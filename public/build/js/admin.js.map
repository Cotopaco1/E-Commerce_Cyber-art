{"version":3,"file":"admin.js","names":["activar_evento_submit_by_id","capturar_y_verificar_datos_de_formulario","crear_alerta_de_cargando","eliminar_alerta_de_cargando","document","addEventListener","iniciarApp","productos_json","mostrarDatosResumen","eventosBotones","eventos_botones_menu","querySelector","actualizarPagina","mostrarProductos","mostrar_crear_producto","mostrarPedidos","console","log","insertar_formulario_crear","cambiarTitulo","evento_formulario_crear","async","event","preventDefault","formData","FormData","target","url","location","origin","options","method","body","resultado","fetch","respuesta","json","Swal","fire","title","text","mensaje","icon","fontsize","then","divRespuesta","getElementById","innerHTML","alertas","forEach","alerta","parrafo","createElement","textContent","appendChild","error","evento_botones_action","querySelectorAll","boton","mostrar_editar_producto","mostrar_ver_producto","eliminar_producto","data","id","dataset","JSON","stringify","e","idProducto","producto","find","crearModal","insertar_al_modal_producto_ver","descripcion","disponible","imagen","nombre","precio","size","value","eliminarModal","crearTabla","solicitud_get_por_url","llenarAndMostrarTablaProductos","titulo","$args","datos","tabla","tr","parseInt","toLocaleString","insertar_al_modal_producto","evento_formulario_actualizar","eliminar_modal_and_mostrar_productos","modal","classList","add","evento_para_cerrar_modal","closest","remove","getDatosResumen","imprimirDatosResumen","cantidad_pedidos","cantidad_productos","cantidad_usuarios","reload"],"sources":["admin.js"],"mappings":"OAAQA,4BACJC,yCACAC,yBACAC,gCACG,cAEPC,SAASC,iBAAiB,oBAAoB,WAE1CC,YACJ,IAEA,IAAIC,eAAiB,CAAC,EAGtB,SAASD,aAELE,sBACAC,iBACAC,sBAEJ,CAQA,SAASA,uBACLN,SAASO,cAAc,SAASN,iBAAiB,QAASO,kBAC1DR,SAASO,cAAc,cAAcN,iBAAiB,QAASQ,kBAC/DT,SAASO,cAAc,mBAAmBN,iBAAiB,QAASS,uBACxE,CAIA,SAASL,iBACLL,SAASO,cAAc,kBAAkBN,iBAAiB,QAASU,gBACnEX,SAASO,cAAc,oBAAoBN,iBAAiB,QAASQ,iBACzE,CAKA,SAASE,iBAKLC,QAAQC,IAAI,yBAChB,CAMA,SAASH,yBACLI,4BACAC,cAAc,kBAEdf,SAASO,cAAc,eAAeN,iBAAiB,SAAUe,wBACrE,CACAC,eAAeD,wBAAwBE,GACnCA,EAAMC,iBACN,MAAMC,EAAW,IAAIC,SAASH,EAAMI,QAKpC,IAEI,MAAMC,EAAM,GAAGC,SAASC,kCAClBC,EAAU,CACZC,OAAQ,OACRC,KAAMR,GAEVtB,2BACA,MAAM+B,QAAkBC,MAAMP,EAAKG,GAC7BK,QAAkBF,EAAUG,OAElC,GADAjC,8BACGgC,EAAUF,UACTI,KAAKC,KAAK,CACNC,MAAO,gBACPC,KAAM,GAAGL,EAAUM,UACnBC,KAAM,UACNC,SAAU,SACPC,KAAK/B,sBACX,CACDG,QAAQC,IAAIkB,GACZ,MAAMU,EAAezC,SAAS0C,eAAe,iBAC7CD,EAAaE,UAAY,GACzBZ,EAAUa,QAAQC,SAAQC,IACtB,MAAMC,EAAU/C,SAASgD,cAAc,KACvCD,EAAQE,YAAcH,EACtBL,EAAaS,YAAYH,EAAQ,GAMzC,CAIJ,CAAE,MAAOI,GACLvC,QAAQC,IAAIsC,EAChB,CACJ,CACA,SAASrC,4BACad,SAASO,cAAc,cAC/BoC,UAAY,u0CA4B1B,CAMA,SAASS,wBACLpD,SAASqD,iBAAiB,iBAAiBR,SAAQS,IAC/CA,EAAMrD,iBAAiB,QAASsD,wBAAuB,IAE3DvD,SAASqD,iBAAiB,cAAcR,SAAQS,IAC5CA,EAAMrD,iBAAiB,QAASuD,qBAAoB,IAExDxD,SAASqD,iBAAiB,mBAAmBR,SAAQS,IACjDA,EAAMrD,iBAAiB,QAASwD,kBAAiB,GAGzD,CAGAxC,eAAewC,kBAAkBvC,GAC7B,MACMwC,EAAO,CACTC,GAFOzC,EAAMI,OAAOsC,QAAQD,IAKhC,IACI,MAAMjC,EAAU,CACZC,OAAQ,OACRC,KAAMiC,KAAKC,UAAUJ,IAEnB7B,QAAkBC,MANhB,+BAM2BJ,GAC7BK,QAAkBF,EAAUG,OAC/BD,EAAUF,UACTI,KAAKC,KAAK,CACNC,MAAO,gBACPC,KAAM,GAAGL,EAAUM,UACnBC,KAAM,UACNC,SAAU,SACTC,KAAK/B,kBAEVwB,KAAKC,KAAK,CACNC,MAAO,SACPC,KAAM,GAAGL,EAAUM,UACnBC,KAAM,QACNC,SAAU,QAMtB,CAAE,MAAOY,GAET,CAMJ,CAIA,SAASK,qBAAqBO,GAC1B,MAAMC,EAAaD,EAAEzC,OAAOsC,QAAQD,GAC9BM,EAAW9D,eAAe+D,MAAK,SAAS5C,GAC1C,OAAOA,EAAOqC,KAAOK,CACzB,IAEAG,aACAC,+BAA+BH,EACnC,CACA,SAASG,+BAA+BH,GACpC,MAAMI,YAACA,EAAWC,WAAEA,EAAUX,GAAEA,EAAEY,OAAEA,EAAMC,OAAEA,EAAMC,OAAEA,EAAMC,KAAEA,GAAQT,EACtDjE,SAASO,cAAc,oBAC/BoC,UAAW,iLAI0B4B,mKAIXZ,sDACGa,sDACAC,sDACAC,4jBAYoCL,gMAYzDrE,SAAS0C,eAAe,qBAChCiC,MAAQL,EACStE,SAAS0C,eAAe,kBAChCzC,iBAAiB,QAAS2E,cAC7C,CAIA,SAASnE,mBACLM,cAAc,aACd8D,aACAC,sBAAsB,gDACrBtC,KAAKuC,+BAQV,CACA,SAAShE,cAAciE,GACDhF,SAASO,cAAc,eAC/BoC,UAAY,OAAOqC,QACjC,CACA,SAASH,WAAWI,EAAQ,IACNjF,SAASO,cAAc,cAC/BoC,UAAY,mUAiB1B,CACA,SAASoC,+BAA+BG,GACpC,MAAMC,EAAQnF,SAAS0C,eAAe,SACtCvC,eAAiB+E,EACjBA,EAAMrC,SAAQoB,IACV,MAAMI,YAACA,EAAWC,WAAEA,EAAUX,GAAEA,EAAEY,OAAEA,EAAMC,OAAEA,EAAMC,OAAEA,EAAMC,KAAEA,GAAQT,EAC9DmB,EAAKpF,SAASgD,cAAc,MAElCoC,EAAGzC,UAAY,0CACgB4B,mDACtBC,qCACOa,SAASZ,GAAQa,uHAGN3B,6EACAA,uEACAA,2FAI3BwB,EAAMjC,YAAYkC,EAAG,IAGzBhC,uBACJ,CACAnC,eAAe6D,sBAAsBvD,GAEjC,IAEI,MAAMM,QAAkBC,MAAMP,GAE9B,aADwBM,EAAUG,MAGtC,CAAE,MAAOmB,GACLvC,QAAQC,IAAIsC,EAChB,CACJ,CAEA,SAASI,wBAAwBQ,GAC7B,MAAMC,EAAYD,EAAEzC,OAAOsC,QAAQD,GAC7BM,EAAW9D,eAAe+D,MAAK,SAAS5C,GAC1C,OAAOA,EAAOqC,KAAOK,CACzB,IAEAG,aACAoB,2BAA2BtB,GAE3BjE,SAASO,cAAc,eAAeN,iBAAiB,SAAUuF,6BAErE,CAEAvE,eAAeuE,6BAA6BtE,GAYhCA,EAAMC,iBACN,MAAMC,EAAW,IAAIC,SAASH,EAAMI,QAMxC,IAII,MAAMC,EAAM,GAAGC,SAASC,uCAClBC,EAAU,CACZC,OAAQ,OACRC,KAAMR,GAEVtB,2BACA,MAAM+B,QAAkBC,MAAMP,EAAKG,GAC7BK,QAAkBF,EAAUG,OAElC,GADAjC,8BACGgC,EAAUF,UACTI,KAAKC,KAAK,CACNC,MAAO,gBACPC,KAAM,GAAGL,EAAUM,UACnBC,KAAM,UACNC,SAAU,SACTC,KAAKiD,0CACT,CAED,MAAMhD,EAAezC,SAAS0C,eAAe,iBAC7CD,EAAaE,UAAY,GACzBZ,EAAUa,QAAQC,SAAQC,IACtB,MAAMC,EAAU/C,SAASgD,cAAc,KACvCD,EAAQE,YAAcH,EACtBL,EAAaS,YAAYH,EAAQ,GAMzC,CAIJ,CAAE,MAAOI,GACLvC,QAAQC,IAAIsC,EAChB,CAER,CACA,SAASsC,uCACLb,gBACAnE,kBAEJ,CACA,SAAS8E,2BAA2BtB,GAChC,MAAMI,YAACA,EAAWC,WAAEA,EAAUX,GAAEA,EAAEY,OAAEA,EAAMC,OAAEA,EAAMC,OAAEA,EAAMC,KAAEA,GAAQT,EACtDjE,SAASO,cAAc,oBAC/BoC,UAAW,qPAK0B4B,2KAIHZ,wEACgBA,gIAC4Da,iHACvBC,iaAQXC,kKAI5BH,4IAESF,iVAcjDrE,SAAS0C,eAAe,qBAChCiC,MAAQL,EAEStE,SAAS0C,eAAe,kBAChCzC,iBAAiB,QAAS2E,cAE7C,CAEA,SAAST,aAEL,MAAMuB,EAAQ1F,SAASgD,cAAc,OACrC0C,EAAMC,UAAUC,IAAI,SACpBF,EAAM/C,UAAY,kDAGlB+C,EAAMzF,iBAAiB,QAAS4F,0BACnB7F,SAASO,cAAc,QAE/B2C,YAAYwC,EACrB,CACA,SAASG,yBAAyB3E,GACXA,EAAMI,OAAOwE,QAAQ,kBAEpClB,eAER,CACA,SAASA,gBACS5E,SAASO,cAAc,UAC/BwF,QAEV,CAOA,SAAS3F,sBACN4F,kBACCxD,KAAKyD,qBACT,CACA,SAASA,qBAAqBf,GACAlF,SAASO,cAAc,wBAC/B0C,YAAciC,EAAMnD,UAAUmE,iBAEpBlG,SAASO,cAAc,0BAC/B0C,YAAciC,EAAMnD,UAAUoE,mBAEvBnG,SAASO,cAAc,yBAC/B0C,YAAciC,EAAMnD,UAAUqE,iBAGrD,CACAnF,eAAe+E,kBAEX,IAEI,MAAMzE,EAAM,mDAENM,QAAkBC,MAAMP,GAE9B,aADyBM,EAAUG,MAGvC,CAAE,MAAOmB,GACLvC,QAAQC,IAAIsC,EAChB,CAEJ,CACA,SAAS3C,mBACLgB,SAAS6E,QACb","ignoreList":[],"sourcesContent":["import {activar_evento_submit_by_id,\r\n    capturar_y_verificar_datos_de_formulario,\r\n    crear_alerta_de_cargando,\r\n    eliminar_alerta_de_cargando\r\n} from './helper.js';\r\n\r\ndocument.addEventListener('DOMContentLoaded', function(){\r\n    \r\n    iniciarApp();\r\n})\r\n//Globales\r\nlet productos_json = {}; \r\n/* window.respuestaGlobal = {}; */\r\n//Cierro globales\r\nfunction iniciarApp(){\r\n\r\n    mostrarDatosResumen();\r\n    eventosBotones();\r\n    eventos_botones_menu();\r\n    \r\n}\r\n\r\n\r\n//modal actualizar\r\n\r\n//Termina modal actualizar\r\n\r\n//Botones menu\r\nfunction eventos_botones_menu(){\r\n    document.querySelector('#home').addEventListener('click', actualizarPagina)\r\n    document.querySelector('#productos').addEventListener('click', mostrarProductos)\r\n    document.querySelector('#nuevo_producto').addEventListener('click', mostrar_crear_producto);\r\n}\r\n//Termina botones menu\r\n\r\n//Botones footer admin\r\nfunction eventosBotones(){\r\n    document.querySelector('#boton_pedidos').addEventListener('click', mostrarPedidos);\r\n    document.querySelector('#boton_productos').addEventListener('click', mostrarProductos);\r\n}\r\n//Termina botones foter admin\r\n\r\n//Empieza pedidos\r\n\r\nfunction mostrarPedidos(){\r\n    //Crear tabla para mostrar pedidos.\r\n    //Solicitar informacion de los pedidos.\r\n    //Insertar la informacion de los pedidos a la tabla\r\n    //Mostrar la tabla creada en pantalla\r\n    console.log('mostrando productos...')\r\n}\r\n\r\n\r\n//termina pedidos\r\n\r\n//Empieza crear productos\r\nfunction mostrar_crear_producto(){\r\n    insertar_formulario_crear();\r\n    cambiarTitulo('Crear Producto')\r\n    // evento para crear producto\r\n    document.querySelector('.formulario').addEventListener('submit', evento_formulario_crear)\r\n}\r\nasync function evento_formulario_crear(event){\r\n    event.preventDefault();\r\n    const formData = new FormData(event.target);\r\n        /* const prueba = [...formData];\r\n        console.log(prueba);\r\n        return; */\r\n    //Si no esta vacio, entonces hacemos fetch para actualizar.\r\n    try {\r\n\r\n        const url = `${location.origin}/api/admin/crear_producto`;\r\n        const options = {\r\n            method: 'post',\r\n            body: formData\r\n        }\r\n        crear_alerta_de_cargando();\r\n        const resultado = await fetch(url, options);\r\n        const respuesta = await resultado.json();\r\n        eliminar_alerta_de_cargando();\r\n        if(respuesta.resultado){\r\n            Swal.fire({\r\n                title: \"Buen trabajo!\",\r\n                text: `${respuesta.mensaje}`,\r\n                icon: \"success\",\r\n                fontsize: '5rem',\r\n                }).then(mostrarProductos)\r\n        }else{\r\n            console.log(respuesta);\r\n            const divRespuesta = document.getElementById('mensaje_error')\r\n            divRespuesta.innerHTML = ``;\r\n            respuesta.alertas.forEach(alerta=>{\r\n                const parrafo = document.createElement('P')\r\n                parrafo.textContent = alerta;\r\n                divRespuesta.appendChild(parrafo);\r\n            })\r\n            /* divRespuesta.innerHTML = `\r\n            \r\n            <p>${respuesta.alertas[0]}</p>\r\n            ` */\r\n        }\r\n        \r\n\r\n        \r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\nfunction insertar_formulario_crear(){\r\n    const contenido = document.querySelector('.contenido')\r\n    contenido.innerHTML = `\r\n     <form class=\"producto_div formulario crear_producto\" id=\"formulario\" enctype=\"multipart/form-data\">\r\n                <div class=\"informacion_producto \">\r\n                    <label htmlFor=\"nombre_editar\">Nombre: <input name=\"nombre\" id=\"nombre_editar\" type=\"text\" /></label>\r\n                    <label >Precio: <input name=\"precio\" id=\"precio_editar\" type=\"text\"/></label>\r\n                    <label htmlFor=\"\">\r\n                    Disponible:\r\n                    <select id=\"select_disponible\" name=\"disponible\">\r\n                        <option value=\"1\">Si</option>\r\n                        <option value=\"0\">No</option>\r\n                    </select>\r\n                    </label>\r\n                    <label htmlFor=\"\">Tamaño: <input type=\"text\" name=\"size\" /></label>\r\n                </div>\r\n           \r\n            <div class=\"div_producto_dos\">\r\n                <input type=\"file\" name=\"imagen\" />\r\n                 <label for=\"descripcion\" >Descripcion:</label>\r\n                  <textarea name=\"descripcion\" id=\"descripcion\" placeholder=\"Escribe la descripcion\" ></textarea>\r\n            </div>\r\n        <div id=\"mensaje_error\"></div>\r\n        <div class=\"producto_div_footer\">\r\n            <input type=\"submit\" value=\"Crear producto\" id=\"crear_producto\" class=\"boton-ver\" />\r\n            \r\n        </div>\r\n    </form>\r\n    `\r\n\r\n}\r\n\r\n//Termina crear productos\r\n\r\n//Empieza Productos\r\n\r\nfunction evento_botones_action(){\r\n    document.querySelectorAll('.boton-editar').forEach(boton=>{\r\n        boton.addEventListener('click', mostrar_editar_producto)\r\n    });\r\n    document.querySelectorAll('.boton-ver').forEach(boton=>{\r\n        boton.addEventListener('click', mostrar_ver_producto)\r\n    })\r\n    document.querySelectorAll('.boton-eliminar').forEach(boton=>{\r\n        boton.addEventListener('click', eliminar_producto)\r\n    })\r\n    \r\n}\r\n    //Empiza eliminar\r\n        //Realizar un fetch post, para eliminar un producto.\r\nasync function eliminar_producto(event){\r\n    const id = event.target.dataset.id;\r\n    const data = {\r\n        id: id\r\n    }\r\n    const url = '/api/admin/eliminar_producto';\r\n    try {\r\n        const options = {\r\n            method: 'POST',\r\n            body: JSON.stringify(data)\r\n        }\r\n        const resultado = await fetch(url, options);\r\n        const respuesta = await resultado.json();\r\n        if(respuesta.resultado){\r\n            Swal.fire({\r\n                title: \"Buen trabajo!\",\r\n                text: `${respuesta.mensaje}`,\r\n                icon: \"success\",\r\n                fontsize: '5rem',\r\n              }).then(mostrarProductos)\r\n        }else{\r\n            Swal.fire({\r\n                title: \"Error!\",\r\n                text: `${respuesta.mensaje}`,\r\n                icon: \"error\",\r\n                fontsize: '5rem',\r\n              })\r\n        }\r\n\r\n\r\n        \r\n    } catch (error) {\r\n        \r\n    }\r\n    //obtener id del producto a eliminar\r\n    //Enviar fetch\r\n    //si respuesta es true, actualizar productos.\r\n    //Si es falso, mostrar alerta de error.\r\n\r\n} \r\n    //Termina eliminar\r\n\r\n    //Empieza ver\r\nfunction mostrar_ver_producto(e){\r\n    const idProducto = e.target.dataset.id;\r\n    const producto = productos_json.find(function(target){\r\n        return target.id === idProducto;        \r\n    });\r\n\r\n    crearModal();\r\n    insertar_al_modal_producto_ver(producto);\r\n}\r\nfunction insertar_al_modal_producto_ver(producto){\r\n    const {descripcion, disponible, id, imagen, nombre, precio, size} = producto\r\n    const modal = document.querySelector('.contenido_modal');\r\n    modal.innerHTML= `\r\n    <div class=\"producto_div\">\r\n            <div class=\"div_producto_uno\">\r\n                <div class=\"imagen_producto_div\">\r\n                    <img src=\"/img/productos/${imagen}\" alt=\"imagenProducto\" />\r\n                    \r\n                </div>\r\n                <div class=\"informacion_producto\">\r\n                    <p >ID: <span>${id}</span></p>\r\n                    <p>Nombre: <span>${nombre}</span></p>\r\n                    <p>Precio: <span>${precio}</span></p>\r\n                    <p>Tamaño: <span>${size}</span></p>\r\n                    <label htmlFor=\"\">\r\n                    Disponible:\r\n                    <select disabled id=\"select_disponible\" name=\"disponible\">\r\n                        <option value=\"1\">Si</option>\r\n                        <option value=\"0\">No</option>\r\n                    </select>\r\n                    </label>\r\n                </div>\r\n            </div>\r\n            <div class=\"div_producto_dos\">\r\n                 <p for=\"descripcion\" ><span>Descripcion:</span></p>\r\n                  <textarea name=\"descripcion\" id=\"descripcion\" disabled>${descripcion}</textarea>\r\n            </div>\r\n        <div class=\"producto_div_footer\">\r\n            <button class=\"boton-eliminar\" id=\"cancelar_boton\">Volver</button>\r\n        </div>\r\n    </div>\r\n    `\r\n    /* if(disponible === 1){\r\n        const optionSelected = document.getElementById('disponible');\r\n        optionSelected.setAttribute('selected')\r\n        \r\n    } */\r\n   const select = document.getElementById('select_disponible');\r\n   select.value = disponible;\r\n    const boton_cancelar = document.getElementById('cancelar_boton');\r\n    boton_cancelar.addEventListener('click', eliminarModal)\r\n}\r\n    //Termina ver\r\n\r\n    //Empieza editar\r\nfunction mostrarProductos(){\r\n    cambiarTitulo('Productos')\r\n    crearTabla();\r\n    solicitud_get_por_url('http://localhost:3000/api/cuadros/getcuadros')\r\n    .then(llenarAndMostrarTablaProductos);\r\n    //Crear tabla para mostrar productos.\r\n    //Solicitar informacion de los productos.\r\n    //Insertar la informacion de los productos a la tabla\r\n    //Mostrar la tabla creada en pantalla\r\n    //crear evento al boton editar\r\n    //crear evento al boton ver\r\n    //crear evento al boton eliminar.\r\n}\r\nfunction cambiarTitulo(titulo){\r\n    const tituloDiv = document.querySelector('.titulo_app');\r\n    tituloDiv.innerHTML = `<h1>${titulo}</h1>`\r\n}\r\nfunction crearTabla($args = []){\r\n    const contenido = document.querySelector('.contenido')\r\n    contenido.innerHTML = `\r\n    <table class=\"tablaResumen id=\"tabla\">\r\n    <thead>\r\n            <tr>\r\n                <td>Imagen</td>\r\n                <td>Nombre</td>\r\n                <td>Precio</td>\r\n                <td>Actions</td>\r\n            </tr>\r\n        </thead>\r\n        <tbody id=\"tbody\">\r\n        \r\n        </tbody>\r\n    </table>\r\n    `\r\n\r\n    \r\n}\r\nfunction llenarAndMostrarTablaProductos(datos){\r\n    const tabla = document.getElementById('tbody');\r\n    productos_json = datos;\r\n    datos.forEach(producto=>{\r\n        const {descripcion, disponible, id, imagen, nombre, precio, size} = producto;\r\n        const tr = document.createElement('TR');\r\n        /* const td = document.createElement('TD'); */\r\n        tr.innerHTML = `\r\n        <td><img src=\"/img/productos/${imagen}\" alt=\"imagenProducto\" /></td>\r\n        <td><p>${nombre}</p></td>\r\n        <td><p>$<span>${parseInt(precio).toLocaleString()}</span></p></td>\r\n        <td>\r\n            <div class=\"actions\">\r\n                <button data-id=\"${id}\" class=\"boton-editar\">Editar</button>\r\n                <button data-id=\"${id}\" class=\"boton-ver\">Ver</button>\r\n                <button data-id=\"${id}\" class=\"boton-eliminar\">Eliminar</button>\r\n            </div>\r\n        </td>\r\n        `\r\n        tabla.appendChild(tr);\r\n\r\n    })\r\n    evento_botones_action();\r\n}\r\nasync function solicitud_get_por_url(url){\r\n\r\n    try {\r\n        /* url = 'http://localhost:3000/api/cuadros/getCuadros'; */\r\n        const resultado = await fetch(url);\r\n        const respuesta = await resultado.json();\r\n        return respuesta;\r\n        \r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\n\r\nfunction mostrar_editar_producto(e){\r\n    const idProducto =e.target.dataset.id;\r\n    const producto = productos_json.find(function(target){\r\n        return target.id === idProducto;        \r\n    });\r\n\r\n    crearModal();\r\n    insertar_al_modal_producto(producto);\r\n    //crear evento submit para el formulario.\r\n    document.querySelector('.formulario').addEventListener('submit', evento_formulario_actualizar)\r\n        \r\n}\r\n\r\nasync function evento_formulario_actualizar(event){\r\n   /*  const datos = capturar_y_verificar_datos_de_formulario(event); */\r\n    //Si algun valor de un input es vacio entonces:\r\n        /* if(!datos){\r\n            const mensaje_div = document.getElementById('mensaje_error');\r\n            const mensajeAnterior = mensaje_div.firstChild;\r\n            if(mensajeAnterior) mensajeAnterior.remove();\r\n            const mensaje = document.createElement('P');\r\n            mensaje.textContent = 'Porfavor rellena todos los campos.'\r\n            mensaje_div.appendChild(mensaje);\r\n            return; \r\n        }  */\r\n            event.preventDefault();\r\n            const formData = new FormData(event.target);\r\n            /* const prueba = [...formData];\r\n            console.log(prueba);\r\n            return; */\r\n\r\n        //Si no esta vacio, entonces hacemos fetch para actualizar.\r\n        try {\r\n\r\n            /* const json = JSON.stringify(datos); */\r\n\r\n            const url = `${location.origin}/api/admin/actualizar_producto`;\r\n            const options = {\r\n                method: 'post',\r\n                body: formData\r\n            }\r\n            crear_alerta_de_cargando();\r\n            const resultado = await fetch(url, options);\r\n            const respuesta = await resultado.json();\r\n            eliminar_alerta_de_cargando();\r\n            if(respuesta.resultado){\r\n                Swal.fire({\r\n                    title: \"Buen trabajo!\",\r\n                    text: `${respuesta.mensaje}`,\r\n                    icon: \"success\",\r\n                    fontsize: '5rem',\r\n                  }).then(eliminar_modal_and_mostrar_productos)\r\n            }else{\r\n                \r\n                const divRespuesta = document.getElementById('mensaje_error')\r\n                divRespuesta.innerHTML = ``;\r\n                respuesta.alertas.forEach(alerta=>{\r\n                    const parrafo = document.createElement('P')\r\n                    parrafo.textContent = alerta;\r\n                    divRespuesta.appendChild(parrafo);\r\n                })\r\n                /* divRespuesta.innerHTML = `\r\n                \r\n                <p>${respuesta.alertas[0]}</p>\r\n                ` */\r\n            }\r\n            \r\n\r\n            \r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n        \r\n}\r\nfunction eliminar_modal_and_mostrar_productos(){\r\n    eliminarModal()\r\n    mostrarProductos()\r\n\r\n}\r\nfunction insertar_al_modal_producto(producto){\r\n    const {descripcion, disponible, id, imagen, nombre, precio, size} = producto\r\n    const modal = document.querySelector('.contenido_modal');\r\n    modal.innerHTML= `\r\n    <form class=\"producto_div formulario\" id=\"formulario\" enctype=\"multipart/form-data\">\r\n        \r\n            <div class=\"div_producto_uno\">\r\n                <div class=\"imagen_producto_div\">\r\n                    <img src=\"/img/productos/${imagen}\" alt=\"imagenProducto\" />\r\n                    \r\n                </div>\r\n                <div class=\"informacion_producto\">\r\n                    <label htmlFor=\"\">ID: ${id}</label>\r\n                    <input type=\"hidden\" name=\"id\" value=\"${id}\" />\r\n                    <label htmlFor=\"nombre_editar\">Nombre: <input name=\"nombre\" id=\"nombre_editar\" type=\"text\" value=\"${nombre}\" /></label>\r\n                    <label >Precio: <input name=\"precio\" id=\"precio_editar\" type=\"text\" value=\"${precio}\" /></label>\r\n                    <label htmlFor=\"\">\r\n                    Disponible:\r\n                    <select id=\"select_disponible\" name=\"disponible\">\r\n                        <option value=\"1\">Si</option>\r\n                        <option value=\"0\">No</option>\r\n                    </select>\r\n                    </label>\r\n                    <label htmlFor=\"\">Tamaño: <input type=\"text\" name=\"size\" value=\"${size}\" /></label>\r\n                </div>\r\n            </div>\r\n            <div class=\"div_producto_dos\">\r\n                <input type=\"file\" name=\"imagen\" value=\"${imagen}\" />\r\n                 <label for=\"descripcion\" >Descripcion:</label>\r\n                  <textarea name=\"descripcion\" id=\"descripcion\" >${descripcion}</textarea>\r\n            </div>\r\n        <div id=\"mensaje_error\"></div>\r\n        <div class=\"producto_div_footer\">\r\n            <input type=\"submit\" value=\"Actualizar Datos\" id=\"actualizar_datos\" class=\"boton-ver\" />\r\n            <button class=\"boton-eliminar\" id=\"cancelar_boton\">Cancelar</button>\r\n        </div>\r\n    </form>\r\n    `\r\n    /* if(disponible === 1){\r\n        const optionSelected = document.getElementById('disponible');\r\n        optionSelected.setAttribute('selected')\r\n        \r\n    } */\r\n   const select = document.getElementById('select_disponible');\r\n   select.value = disponible;\r\n\r\n    const boton_cancelar = document.getElementById('cancelar_boton');\r\n    boton_cancelar.addEventListener('click', eliminarModal)\r\n\r\n}\r\n\r\nfunction crearModal(){\r\n    //este codigo solo se ejecuta una vez..\r\n    const modal = document.createElement('DIV');\r\n    modal.classList.add('modal');\r\n    modal.innerHTML = `\r\n    <div class=\"contenido_modal\"></div>\r\n    `\r\n    modal.addEventListener('click', evento_para_cerrar_modal)\r\n    const body = document.querySelector('body');\r\n\r\n    body.appendChild(modal);\r\n}\r\nfunction evento_para_cerrar_modal(event){\r\n    const eventClass = event.target.closest('.producto_div')\r\n    if(!eventClass){\r\n        eliminarModal();\r\n    }\r\n}\r\nfunction eliminarModal(){\r\n    const modal = document.querySelector('.modal')\r\n    modal.remove();\r\n       \r\n}\r\n    //Termina editar\r\n\r\n//Termina productos\r\n\r\n\r\n//Resumen\r\nfunction mostrarDatosResumen(){\r\n   getDatosResumen()\r\n   .then(imprimirDatosResumen);\r\n}\r\nfunction imprimirDatosResumen(datos){\r\n    const spanNumeroPedidos = document.querySelector('#numero_pedidos span')\r\n    spanNumeroPedidos.textContent = datos.respuesta.cantidad_pedidos\r\n\r\n    const spanNumeroProductos = document.querySelector('#numero_productos span')\r\n    spanNumeroProductos.textContent = datos.respuesta.cantidad_productos\r\n\r\n    const spanNumeroUsuarios = document.querySelector('#numero_usuarios span')\r\n    spanNumeroUsuarios.textContent = datos.respuesta.cantidad_usuarios\r\n\r\n\r\n}\r\nasync function getDatosResumen(){\r\n\r\n    try {\r\n        \r\n        const url = 'http://localhost:3000/api/admin/get_info_resumen'\r\n\r\n        const resultado = await fetch(url);\r\n        const $respuesta = await resultado.json();\r\n        return $respuesta;\r\n        \r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n\r\n}\r\nfunction actualizarPagina(){\r\n    location.reload();\r\n}\r\n//Termina resumen"]}