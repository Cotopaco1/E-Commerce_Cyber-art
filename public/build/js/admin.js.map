{"version":3,"file":"admin.js","names":["document","addEventListener","iniciarApp","productos_json","mostrarDatosResumen","eventosBotones","querySelector","mostrarPedidos","mostrarProductos","console","log","cambiarTitulo","crearTabla","solicitud_get_por_url","then","llenarAndMostrarTablaProductos","titulo","innerHTML","datos","tabla","getElementById","forEach","producto","descripcion","disponible","id","imagen","nombre","precio","size","tr","createElement","appendChild","evento_botones_action","async","url","resultado","fetch","json","error","querySelectorAll","boton","mostrar_editar_producto","e","idProducto","target","dataset","find","crearModal","insertar_al_modal_producto","eliminarModal","modal","classList","add","evento_para_cerrar_modal","event","eventClass","closest","remove","getDatosResumen","imprimirDatosResumen","textContent","respuesta","cantidad_pedidos","cantidad_productos","cantidad_usuarios"],"sources":["admin.js"],"mappings":"AAAAA,SAASC,iBAAiB,oBAAoB,WAC1CC,YACJ,IAEA,IAAIC,eAAiB,CAAC,EAGtB,SAASD,aAELE,sBACAC,gBAEJ,CAMA,SAASA,iBACLL,SAASM,cAAc,kBAAkBL,iBAAiB,QAASM,gBACnEP,SAASM,cAAc,oBAAoBL,iBAAiB,QAASO,iBACzE,CAEA,SAASD,iBAKLE,QAAQC,IAAI,yBAChB,CAEA,SAASF,mBACLG,cAAc,aACdC,aACAC,sBAAsB,gDACrBC,KAAKC,+BAQV,CACA,SAASJ,cAAcK,GACDhB,SAASM,cAAc,eAC/BW,UAAY,OAAOD,QACjC,CACA,SAASJ,aACaZ,SAASM,cAAc,cAC/BW,UAAY,mUAe1B,CACA,SAASF,+BAA+BG,GACpC,MAAMC,EAAQnB,SAASoB,eAAe,SACtCjB,eAAiBe,EACjBA,EAAMG,SAAQC,IACV,MAAMC,YAACA,EAAWC,WAAEA,EAAUC,GAAEA,EAAEC,OAAEA,EAAMC,OAAEA,EAAMC,OAAEA,EAAMC,KAAEA,GAAQP,EAC9DQ,EAAK9B,SAAS+B,cAAc,MAElCD,EAAGb,UAAY,gCACMS,mDACZC,qCACOC,wGAGWH,iNAM3BN,EAAMa,YAAYF,EAAG,IAGzBG,uBACJ,CACAC,eAAerB,sBAAsBsB,GAEjC,IAEI,MAAMC,QAAkBC,MAAMF,GAE9B,aADwBC,EAAUE,MAGtC,CAAE,MAAOC,GACL9B,QAAQC,IAAI6B,EAChB,CACJ,CACA,SAASN,wBACLjC,SAASwC,iBAAiB,iBAAiBnB,SAAQoB,IAC/CA,EAAMxC,iBAAiB,QAASyC,wBAAuB,GAE/D,CACA,SAASA,wBAAwBC,GAC7B,MAAMC,EAAYD,EAAEE,OAAOC,QAAQrB,GAC7BH,EAAWnB,eAAe4C,MAAK,SAASF,GAC1C,OAAOA,EAAOpB,KAAOmB,CAGzB,IAEAI,aACAC,2BAA2B3B,EAG/B,CAEA,SAAS2B,2BAA2B3B,GAChC,MAAMC,YAACA,EAAWC,WAAEA,EAAUC,GAAEA,EAAEC,OAAEA,EAAMC,OAAEA,EAAMC,OAAEA,EAAMC,KAAEA,GAAQP,EACtDtB,SAASM,cAAc,oBAC/BW,UAAW,6LAKgBS,2KAIOD,oIAC4EE,iHACvBC,8XAQvBC,oJAI9BH,4IAEuBH,mUAYxCvB,SAASoB,eAAe,kBAChCnB,iBAAiB,QAASiD,cAE7C,CAEA,SAASF,aAEL,MAAMG,EAAQnD,SAAS+B,cAAc,OACrCoB,EAAMC,UAAUC,IAAI,SACpBF,EAAMlC,UAAY,kDAGlBkC,EAAMlD,iBAAiB,QAASqD,0BACnBtD,SAASM,cAAc,QAE/B0B,YAAYmB,EACrB,CACA,SAASG,yBAAyBC,GAC9BC,WAAaD,EAAMV,OAAOY,QAAQ,iBAC9BD,YACAN,eAER,CACA,SAASA,gBACSlD,SAASM,cAAc,UAC/BoD,QAEV,CAKA,SAAStD,sBACNuD,kBACC7C,KAAK8C,qBACT,CACA,SAASA,qBAAqB1C,GACAlB,SAASM,cAAc,wBAC/BuD,YAAc3C,EAAM4C,UAAUC,iBAEpB/D,SAASM,cAAc,0BAC/BuD,YAAc3C,EAAM4C,UAAUE,mBAEvBhE,SAASM,cAAc,yBAC/BuD,YAAc3C,EAAM4C,UAAUG,iBAGrD,CACA/B,eAAeyB,kBAEX,IAEI,MAAMxB,EAAM,mDAENC,QAAkBC,MAAMF,GAE9B,aADyBC,EAAUE,MAGvC,CAAE,MAAOC,GACL9B,QAAQC,IAAI6B,EAChB,CAEJ","ignoreList":[],"sourcesContent":["document.addEventListener('DOMContentLoaded', function(){\r\n    iniciarApp();\r\n})\r\n//Globales\r\nlet productos_json = {}; \r\n\r\n//Cierro globales\r\nfunction iniciarApp(){\r\n\r\n    mostrarDatosResumen();\r\n    eventosBotones();\r\n    \r\n}\r\n\r\n\r\n\r\n//Botones footer admin\r\n\r\nfunction eventosBotones(){\r\n    document.querySelector('#boton_pedidos').addEventListener('click', mostrarPedidos);\r\n    document.querySelector('#boton_productos').addEventListener('click', mostrarProductos);\r\n}\r\n\r\nfunction mostrarPedidos(){\r\n    //Crear tabla para mostrar pedidos.\r\n    //Solicitar informacion de los pedidos.\r\n    //Insertar la informacion de los pedidos a la tabla\r\n    //Mostrar la tabla creada en pantalla\r\n    console.log('mostrando productos...')\r\n}\r\n\r\nfunction mostrarProductos(){\r\n    cambiarTitulo('Productos')\r\n    crearTabla();\r\n    solicitud_get_por_url('http://localhost:3000/api/cuadros/getcuadros')\r\n    .then(llenarAndMostrarTablaProductos);\r\n    //Crear tabla para mostrar productos.\r\n    //Solicitar informacion de los productos.\r\n    //Insertar la informacion de los productos a la tabla\r\n    //Mostrar la tabla creada en pantalla\r\n    //crear evento al boton editar\r\n    //crear evento al boton ver\r\n    //crear evento al boton eliminar.\r\n}\r\nfunction cambiarTitulo(titulo){\r\n    const tituloDiv = document.querySelector('.titulo_app');\r\n    tituloDiv.innerHTML = `<h1>${titulo}</h1>`\r\n}\r\nfunction crearTabla(){\r\n    const contenido = document.querySelector('.contenido')\r\n    contenido.innerHTML = `\r\n    <table class=\"tablaResumen id=\"tabla\">\r\n    <thead>\r\n            <tr>\r\n                <td>Imagen</td>\r\n                <td>Nombre</td>\r\n                <td>Precio</td>\r\n                <td>Actions</td>\r\n            </tr>\r\n        </thead>\r\n        <tbody id=\"tbody\">\r\n        \r\n        </tbody>\r\n    </table>\r\n    `\r\n}\r\nfunction llenarAndMostrarTablaProductos(datos){\r\n    const tabla = document.getElementById('tbody');\r\n    productos_json = datos;\r\n    datos.forEach(producto=>{\r\n        const {descripcion, disponible, id, imagen, nombre, precio, size} = producto;\r\n        const tr = document.createElement('TR');\r\n        /* const td = document.createElement('TD'); */\r\n        tr.innerHTML = `\r\n        <td><img src=\"/img/${imagen}\" alt=\"imagenProducto\" /></td>\r\n        <td><p>${nombre}</p></td>\r\n        <td><p>$<span>${precio}</span></p></td>\r\n        <td>\r\n            <div class=\"actions\">\r\n                <button data-id=\"${id}\" class=\"boton-editar\">Editar</button>\r\n                <button class=\"boton-ver\">Ver</button>\r\n                <button class=\"boton-eliminar\">Eliminar</button>\r\n            </div>\r\n        </td>\r\n        `\r\n        tabla.appendChild(tr);\r\n\r\n    })\r\n    evento_botones_action();\r\n}\r\nasync function solicitud_get_por_url(url){\r\n\r\n    try {\r\n        /* url = 'http://localhost:3000/api/cuadros/getCuadros'; */\r\n        const resultado = await fetch(url);\r\n        const respuesta = await resultado.json();\r\n        return respuesta;\r\n        \r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\nfunction evento_botones_action(){\r\n    document.querySelectorAll('.boton-editar').forEach(boton=>{\r\n        boton.addEventListener('click', mostrar_editar_producto)\r\n    });\r\n}\r\nfunction mostrar_editar_producto(e){\r\n    const idProducto =e.target.dataset.id;\r\n    const producto = productos_json.find(function(target){\r\n        return target.id === idProducto;\r\n        /* if(target.id === idProducto) return target; */\r\n        \r\n    });\r\n\r\n    crearModal();\r\n    insertar_al_modal_producto(producto);\r\n    \r\n    \r\n}\r\n\r\nfunction insertar_al_modal_producto(producto){\r\n    const {descripcion, disponible, id, imagen, nombre, precio, size} = producto\r\n    const modal = document.querySelector('.contenido_modal');\r\n    modal.innerHTML= `\r\n    <form class=\"producto_div formulario\">\r\n        \r\n            <div class=\"div_producto_uno\">\r\n                <div class=\"imagen_producto_div\">\r\n                    <img src=\"/img/${imagen}\" alt=\"imagenProducto\" />\r\n                    \r\n                </div>\r\n                <div class=\"informacion_producto\">\r\n                    <label htmlFor=\"\">ID: ${id}</label>\r\n                    <label htmlFor=\"nombre_editar\">Nombre: <input name=\"nombre\" id=\"nombre_editar\" type=\"text\" value=\"${nombre}\" /></label>\r\n                    <label >Precio: <input name=\"precio\" id=\"precio_editar\" type=\"text\" value=\"${precio}\" /></label>\r\n                    <label htmlFor=\"\">\r\n                    Disponible:\r\n                    <select name=\"disponible\">\r\n                        <option value=\"1\">Si</option>\r\n                        <option value=\"0\">No</option>\r\n                    </select>\r\n                    </label>\r\n                    <label htmlFor=\"\">Tama√±o: <input type=\"text\" value=\"${size}\" /></label>\r\n                </div>\r\n            </div>\r\n            <div class=\"div_producto_dos\">\r\n                <input type=\"file\" value=\"${imagen}\" />\r\n                 <label for=\"descripcion\" >Descripcion:</label>\r\n                  <textarea name=\"descripcion\" id=\"descripcion\" >${descripcion}</textarea>\r\n                \r\n                \r\n            </div>\r\n        \r\n\r\n        <div class=\"producto_div_footer\">\r\n            <input type=\"submit\" value=\"Actualizar Datos\" class=\"boton-ver\" />\r\n            <button class=\"boton-eliminar\" id=\"cancelar_boton\">Cancelar</button>\r\n        </div>\r\n    </form>\r\n    `\r\n    const boton_cancelar = document.getElementById('cancelar_boton');\r\n    boton_cancelar.addEventListener('click', eliminarModal)\r\n\r\n}\r\n\r\nfunction crearModal(){\r\n    //este codigo solo se ejecuta una vez..\r\n    const modal = document.createElement('DIV');\r\n    modal.classList.add('modal');\r\n    modal.innerHTML = `\r\n    <div class=\"contenido_modal\"></div>\r\n    `\r\n    modal.addEventListener('click', evento_para_cerrar_modal)\r\n    const body = document.querySelector('body');\r\n\r\n    body.appendChild(modal);\r\n}\r\nfunction evento_para_cerrar_modal(event){\r\n    eventClass = event.target.closest('.producto_div')\r\n    if(!eventClass){\r\n        eliminarModal();\r\n    }\r\n}\r\nfunction eliminarModal(){\r\n    const modal = document.querySelector('.modal')\r\n    modal.remove();\r\n       \r\n}\r\n\r\n//Termina botones foter admin\r\n\r\n//Resumen\r\nfunction mostrarDatosResumen(){\r\n   getDatosResumen()\r\n   .then(imprimirDatosResumen);\r\n}\r\nfunction imprimirDatosResumen(datos){\r\n    const spanNumeroPedidos = document.querySelector('#numero_pedidos span')\r\n    spanNumeroPedidos.textContent = datos.respuesta.cantidad_pedidos\r\n\r\n    const spanNumeroProductos = document.querySelector('#numero_productos span')\r\n    spanNumeroProductos.textContent = datos.respuesta.cantidad_productos\r\n\r\n    const spanNumeroUsuarios = document.querySelector('#numero_usuarios span')\r\n    spanNumeroUsuarios.textContent = datos.respuesta.cantidad_usuarios\r\n\r\n\r\n}\r\nasync function getDatosResumen(){\r\n\r\n    try {\r\n        \r\n        const url = 'http://localhost:3000/api/admin/get_info_resumen'\r\n\r\n        const resultado = await fetch(url);\r\n        const $respuesta = await resultado.json();\r\n        return $respuesta;\r\n        \r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n\r\n}\r\n//Termina resumen"]}