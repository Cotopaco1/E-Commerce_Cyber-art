{"version":3,"file":"app.js","names":["montoTotal","carritoDeCompra","usuario","id","nombre","datos","path","window","location","pathname","iniciarApp","eventoInputs","eventoMenu","agregarFixed","subrayarPaginaActual","eventoCarritoUserBoton","eventoCuadros","consultarApiCuadros","crearOpcionesEnSelected","select","document","querySelector","getDepartamentosColombia","then","forEach","departamento","option","createElement","textContent","name","value","dataset","departamentoId","appendChild","addEventListener","eventoSelect","event","get_ciudades_de_un_departamento","target","options","selectedIndex","attributes","ciudades","crear_options_de_ciudad","console","log","ciudad","ciudadId","removeAttribute","async","id_departamento","url","resultado","fetch","json","error","departamentos","enviarDatos","fecha","getFechaActualFormateada","userData","usuarioID","status","monto_total","jsonData","JSON","stringify","method","body","respuesta","Swal","fire","icon","title","text","button","reload","now","Date","getFullYear","String","getMonth","padStart","getDate","getHours","getMinutes","getSeconds","imprimirResultadosApi","cuadro","descripcion","disponible","imagen","precio","size","section","getElementById","cuadroDiv","classList","add","imagenDiv","style","backgroundImage","infoDiv","idCuadro","nombreCuadro","precioCuadro","crearBotonComprarActual","cuadros","querySelectorAll","crearBotonComprar","eliminarBotonComprar","botonDIV","boton","agregarAlCarrito","producto","index","indexOf","cantidad","push","actualizarInterfazCarritoCompra","removeInterfazDinamico","interfaz","remove","removeEventListener","removeInterfaz","carritoCompra","userBoton","mostrarInterfazCarritoCompras","modal","interfazCarritoCompras","esconderScroll","modalAnterior","crearModal","length","parrafo","firstChild","removeChild","productoDiv","nombreProducto","precioProducto","cantidadProducto","botonMas","agregarCantidad","botonMenos","restarCantidad","divInfo","crearBotonBorrar","imagenProducto","src","parrafoMontoTotal","sumarProductosCarrito","toLocaleString","botonComprar","total","parseInt","borrarProductoDeCarritoDeCompra","ocultarHeader","ocultarModal","carritoDeCompras","innerHTML","contenedor","objetoProducto","botonBorrar","splice","eventClass","closest","mostrarScroll","mostrarHeader","overflowY","menu","mostrarModal","botonCerrar","ocultarModalAndMostrarHeader","paginaActual","obtenerPaginaActual","menuCampos","menuCampo","href","header","sectionReferencia","getBoundingClientRect","top","inputBoton","input","e","mostrar","div"],"sources":["app.js"],"mappings":"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","ignoreList":[],"sourcesContent":["let montoTotal = 0;\r\nconst carritoDeCompra = [\r\n]\r\nconst usuario = {\r\n    id : 1,\r\n    nombre : 'sergio silva',\r\n}\r\n\r\nconst datos = {\r\n    carritoDeCompra : {},\r\n    usuario: {}\r\n}\r\n\r\nconst path = window.location.pathname;\r\ndocument.addEventListener('DOMContentLoaded', function(){\r\niniciarApp();\r\n\r\n})\r\n\r\nfunction iniciarApp(){\r\n    eventoInputs(); //Inputs radio\r\n    eventoMenu(); //Menu header\r\n    agregarFixed(); //Menu Header\r\n    subrayarPaginaActual(); //menu Header\r\n    eventoCarritoUserBoton(); //menu Header\r\n    if(path === '/'){\r\n        eventoCuadros();\r\n        consultarApiCuadros();\r\n\r\n    }\r\n    if(path === '/carrito_de_compras'){\r\n        crearOpcionesEnSelected();\r\n    }\r\n}\r\n\r\n//crear option en el selected\r\nfunction crearOpcionesEnSelected(){\r\n    const select = document.querySelector('#departamento')\r\n   \r\n    getDepartamentosColombia()\r\n    .then(datos =>{\r\n        datos.forEach(departamento => {\r\n            const option = document.createElement('OPTION');\r\n            option.textContent = departamento.name\r\n            option.value = departamento.name\r\n            option.dataset.departamentoId = departamento.id\r\n            select.appendChild(option);\r\n        });\r\n    })\r\n\r\n    select.addEventListener('change', eventoSelect)\r\n}\r\nfunction eventoSelect(event){\r\n    const idDepartamento = event.target.options[event.target.selectedIndex].attributes['data-departamento-id'].value;\r\n    get_ciudades_de_un_departamento(idDepartamento)\r\n    .then(ciudades=>{\r\n        crear_options_de_ciudad(ciudades)\r\n        console.log(ciudades)\r\n    })\r\n\r\n}\r\n\r\nfunction crear_options_de_ciudad(ciudades){\r\n    const select = document.querySelector('#ciudad')\r\n    ciudades.forEach(ciudad => {\r\n        const option = document.createElement('OPTION');\r\n        option.textContent = ciudad.name\r\n        option.value = ciudad.name\r\n        option.dataset.ciudadId = ciudad.id\r\n        select.appendChild(option);\r\n    });\r\n    select.removeAttribute('disabled');\r\n}\r\n\r\nasync function get_ciudades_de_un_departamento(id_departamento){\r\n    try {\r\n        const url = `https://api-colombia.com/api/v1/Department/${id_departamento}/cities`\r\n        const resultado = await fetch(url);\r\n        const json = await resultado.json()\r\n        return json;\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n//Api departamentos Colombia:\r\n    //crear peticion a api para obtener todos los departamentos de colombia.\r\nlet departamentos = {};\r\nasync function getDepartamentosColombia(){\r\n    try {\r\n        const url = 'https://api-colombia.com/api/v1/Department';\r\n        const resultado = await fetch(url);\r\n        const json = await resultado.json()\r\n        return json;\r\n    } catch (error) {\r\n        console.log(error);\r\n    }  \r\n}\r\n//Enviar peticion para guardar pedido...\r\nasync function enviarDatos (){\r\n    try {\r\n        const fecha = getFechaActualFormateada();\r\n        //Crear objeto que sera convertido a JSON y enviado por fetch POST\r\n        const datos = {\r\n            carritoDeCompra : carritoDeCompra,\r\n            userData : {\r\n                usuarioID : usuario.id\r\n            },\r\n            fecha : fecha,\r\n            status: 'pendiente',\r\n            monto_total : montoTotal\r\n        }\r\n        const url = 'http://localhost:3000/api/cuadros';\r\n        jsonData = JSON.stringify(datos);\r\n\r\n        const options = {\r\n            method : 'POST',\r\n            body : jsonData\r\n        }\r\n        //Envio del objeto a la DB\r\n        const respuesta = await fetch(url, options)\r\n        const resultado = await respuesta.json();\r\n        //Alerta si el resultado es exitoso.\r\n        if(resultado.resultado){\r\n            Swal.fire({\r\n                icon: \"success\",\r\n                title: \"Pedido creado\",\r\n                text: \"El pedido ha sido guardado con exito\",\r\n                button: 'OK'\r\n              }).then(() =>{\r\n                window.location.reload();       \r\n              })\r\n        }\r\n\r\n    } catch (error) {\r\n        Swal.fire({\r\n            icon: \"error\",\r\n            title: \"Ha habido un error\",\r\n            text: \"El pedido no se ha podido crear..\"\r\n          });\r\n    }\r\n}\r\nfunction getFechaActualFormateada(){\r\n    const now = new Date();\r\n\r\n// Obtener las diferentes partes de la fecha y hora\r\nconst year = now.getFullYear();\r\nconst month = String(now.getMonth() + 1).padStart(2, '0'); // Los meses en JavaScript son 0-11, así que sumamos 1\r\nconst day = String(now.getDate()).padStart(2, '0');\r\nconst hours = String(now.getHours()).padStart(2, '0');\r\nconst minutes = String(now.getMinutes()).padStart(2, '0');\r\nconst seconds = String(now.getSeconds()).padStart(2, '0');\r\n\r\n// Formatear la fecha y hora en el formato YYYY-MM-DD HH:MM:SS\r\nconst formattedDate = `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`;\r\nreturn formattedDate;\r\n}\r\n//Cuadros //\r\n//Mostrar Resultados ....\r\n//Consultar la api\r\nasync function consultarApiCuadros(){\r\n    try {\r\n        const url = 'http://localhost:3000/api/cuadros';\r\n        const resultado = await fetch(url);\r\n        const json = await resultado.json()\r\n        imprimirResultadosApi(json);\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n\r\n}\r\nfunction imprimirResultadosApi(json){\r\n\r\n    json.forEach( cuadro =>{\r\n        const { descripcion, disponible, id, imagen, nombre, precio, size} = cuadro\r\n        \r\n        const section = document.getElementById('cuadros');\r\n        \r\n        const cuadroDiv = document.createElement('DIV');\r\n        cuadroDiv.classList.add('cuadro')\r\n\r\n        const imagenDiv = document.createElement('DIV')\r\n        imagenDiv.classList.add('imagenCuadroDiv');\r\n        imagenDiv.style.backgroundImage = `url(/img/${imagen})`\r\n        \r\n\r\n        const infoDiv = document.createElement('DIV');\r\n        infoDiv.classList.add('cuadro-info');\r\n        infoDiv.dataset.idCuadro = id;\r\n\r\n        const nombreCuadro = document.createElement('P')\r\n        nombreCuadro.classList.add('nombre-cuadro');\r\n        nombreCuadro.textContent = nombre;\r\n\r\n        const precioCuadro = document.createElement('P')\r\n        precioCuadro.classList.add('precio-cuadro');\r\n        precioCuadro.textContent = precio;\r\n\r\n        infoDiv.appendChild(nombreCuadro);\r\n        infoDiv.appendChild(precioCuadro);\r\n        crearBotonComprarActual(infoDiv, cuadro);\r\n\r\n        imagenDiv.appendChild(infoDiv);\r\n\r\n        cuadroDiv.appendChild(imagenDiv);\r\n\r\n        section.appendChild(cuadroDiv);\r\n\r\n    })\r\n}\r\nfunction eventoCuadros(){\r\n    cuadros = document.querySelectorAll('.imagenCuadroDiv');\r\n    cuadros.forEach( cuadro=>{\r\n        cuadro.addEventListener('mouseenter', crearBotonComprar)\r\n        cuadro.addEventListener('mouseleave', eliminarBotonComprar)\r\n    })\r\n    \r\n}\r\n\r\n//CrearBotonComprar Actual...\r\nfunction crearBotonComprarActual(event, cuadro){\r\n    const botonDIV = document.createElement(\"DIV\");\r\n    const boton = document.createElement(\"BUTTON\");\r\n    boton.classList.add('boton');\r\n    boton.textContent = `Agregar al carrito`;\r\n\r\n    botonDIV.appendChild(boton);\r\n    event.appendChild(botonDIV);\r\n\r\n    boton.addEventListener('click', function(){\r\n        agregarAlCarrito(cuadro);\r\n        \r\n    })\r\n    \r\n}\r\n\r\nfunction agregarAlCarrito(cuadro){\r\n   /*  let cantidad = 0;\r\n    carritoDeCompra = [...carritoDeCompra, cuadro] */\r\n    if('cantidad' in cuadro){\r\n        const {id } = cuadro;\r\n        let value;\r\n        carritoDeCompra.forEach(producto=>{\r\n            if(id === producto.id){\r\n                value = producto;\r\n            }\r\n        })\r\n        const index = carritoDeCompra.indexOf(value)\r\n        carritoDeCompra[index].cantidad = carritoDeCompra[index].cantidad + 1;\r\n    }else{\r\n        cuadro.cantidad = 1;\r\n        carritoDeCompra.push(cuadro)\r\n    }\r\n    \r\n    /* carritoDeCompra.push(cuadro); */\r\n    actualizarInterfazCarritoCompra();\r\n}\r\n\r\n// Termina cuadros //\r\n\r\nfunction removeInterfazDinamico(event, interfaz){\r\n    interfaz.remove();\r\n    event.target.removeEventListener('click', removeInterfaz);\r\n}\r\n\r\n//Crea un modal en toda la pantalla..., si ya existe solo le quita la clase ocultar y termina la ejecucion...\r\n//Carrito compras\r\n//evento Click carrito de compra, usuario boton HEADER.\r\nfunction eventoCarritoUserBoton(){\r\n    const carritoCompra = document.querySelector('.carritoCompra');\r\n    const userBoton = document.querySelector('.userBoton');\r\n    carritoCompra.addEventListener('click', mostrarInterfazCarritoCompras);\r\n    userBoton.addEventListener('click', mostrarInterfazCarritoCompras);\r\n\r\n    \r\n}\r\nfunction mostrarInterfazCarritoCompras(){\r\n    actualizarInterfazCarritoCompra();\r\n\r\n    const modal = document.querySelector('.modalCarrito');\r\n    const interfazCarritoCompras = document.querySelector('#carritoDeCompras')\r\n    modal.appendChild(interfazCarritoCompras);\r\n    esconderScroll();\r\n}\r\nfunction actualizarInterfazCarritoCompra(){\r\n    //Si ya existe un modal, entonces solo le quita occultar..\r\n    const modalAnterior = document.querySelector('.modalCarrito');\r\n    if(modalAnterior){\r\n        modalAnterior.remove();\r\n    }\r\n    crearModal();\r\n\r\n    const interfaz = document.querySelector('.contenedorCarritoCompras')\r\n    //si el carrito no tiene productos ..\r\n    if(!carritoDeCompra.length >= 1){\r\n        const parrafo = document.createElement('P');\r\n        parrafo.classList.add('parrafoCarritoVacio');\r\n        parrafo.textContent = 'El carrito esta vacio ...'\r\n        interfaz.appendChild(parrafo);\r\n        return\r\n    }\r\n        \r\n        //borras toda la interfaz.\r\n        while(interfaz.firstChild){\r\n            interfaz.removeChild(interfaz.firstChild);\r\n        }\r\n        //Crear productos e insertar en interfaz..\r\n        carritoDeCompra.forEach(producto =>{\r\n            const {id, nombre, precio, descripcion, size, disponible, imagen, cantidad} = producto;\r\n            \r\n            const productoDiv = document.createElement('DIV');\r\n            productoDiv.classList.add(\"interfazCampo\");\r\n\r\n            const nombreProducto = document.createElement('P');\r\n            nombreProducto.textContent = nombre;\r\n            nombreProducto.classList.add('nombre-producto')\r\n            const precioProducto = document.createElement('P');\r\n            precioProducto.textContent = precio;\r\n            precioProducto.classList.add('precio-producto')\r\n            const cantidadProducto = document.createElement('P');\r\n            cantidadProducto.textContent = `Cantidad: ${cantidad}`;\r\n\r\n            const botonMas = document.createElement('BUTTON');\r\n            botonMas.classList.add('botonChico');\r\n            botonMas.textContent = '+';\r\n            botonMas.addEventListener('click', function(){\r\n                agregarCantidad(producto);\r\n            })\r\n\r\n            const botonMenos = document.createElement('BUTTON');\r\n            botonMenos.classList.add('botonChicoRojo');\r\n            botonMenos.textContent = '-';\r\n            botonMenos.addEventListener('click', function(){\r\n                restarCantidad(producto);\r\n            })\r\n\r\n\r\n            \r\n\r\n            const divInfo = document.createElement('DIV');\r\n            divInfo.classList.add('infoProductoCarrito');\r\n            divInfo.appendChild(nombreProducto)\r\n            divInfo.appendChild(precioProducto)\r\n            divInfo.appendChild(cantidadProducto)\r\n            divInfo.appendChild(botonMas)\r\n            divInfo.appendChild(botonMenos)\r\n            crearBotonBorrar(divInfo, id, producto );\r\n\r\n            const imagenProducto = document.createElement('IMG');\r\n            imagenProducto.src = `/img/${imagen}`;\r\n\r\n            productoDiv.appendChild(divInfo);\r\n            productoDiv.appendChild(imagenProducto);\r\n            interfaz.appendChild(productoDiv);\r\n            \r\n        })\r\n        //Muestra el montoTotal en carrito de compras.\r\n        const parrafoMontoTotal = document.createElement('P');\r\n        parrafoMontoTotal.classList.add('parrafoMontoTotal')\r\n        montoTotal = sumarProductosCarrito();\r\n        parrafoMontoTotal.textContent = `Monto Total: $${montoTotal.toLocaleString()} pesos Colombianos`;\r\n        interfaz.appendChild(parrafoMontoTotal)\r\n\r\n        //Boton de comprar en interfaz de carrito de compras.\r\n        const botonComprar = document.createElement('BUTTON');\r\n        botonComprar.classList.add('botonComprar')\r\n        botonComprar.textContent = `Comprar`\r\n        botonComprar.addEventListener('click', enviarDatos )\r\n        interfaz.appendChild(botonComprar);\r\n}\r\n\r\nfunction sumarProductosCarrito(){\r\n    let total = 0\r\n    carritoDeCompra.forEach(producto => {\r\n        let precio = parseInt(producto.precio) * producto.cantidad\r\n        total = total + precio;\r\n    });\r\n    return total;\r\n}\r\n\r\nfunction agregarCantidad(producto){\r\n\r\n    const index = carritoDeCompra.indexOf(producto);\r\n    carritoDeCompra[index].cantidad ++;\r\n    actualizarInterfazCarritoCompra();\r\n}\r\nfunction restarCantidad(producto){\r\n    const index = carritoDeCompra.indexOf(producto);\r\n    carritoDeCompra[index].cantidad --;\r\n    if(carritoDeCompra[index].cantidad < 1){\r\n        borrarProductoDeCarritoDeCompra(producto.id, producto);\r\n    }\r\n    \r\n    actualizarInterfazCarritoCompra();\r\n}\r\nfunction crearModal(){\r\n    esconderScroll();\r\n    \r\n    //este codigo solo se ejecuta una vez..\r\n    const modal = document.createElement('DIV');\r\n    modal.classList.add('modal', 'modalCarrito');\r\n    ocultarHeader();\r\n    modal.addEventListener('click', ocultarModal)\r\n\r\n    const body = document.querySelector('body');\r\n    const carritoDeCompras = document.createElement('DIV')\r\n    carritoDeCompras.id = 'carritoDeCompras'\r\n    carritoDeCompras.innerHTML = `\r\n    <div class=\"contenedorCarritoCompras\"></div>\r\n    `\r\n    modal.appendChild(carritoDeCompras);\r\n    body.appendChild(modal);\r\n}\r\n\r\nfunction crearBotonBorrar(contenedor, id, objetoProducto){\r\n    //crear boton en el contenedor\r\n    const botonBorrar = document.createElement('BUTTON');\r\n    botonBorrar.classList.add('botonBorrar')\r\n    botonBorrar.textContent = 'Elimina el producto'\r\n    contenedor.appendChild(botonBorrar);\r\n\r\n    //borrar el producto en el carrito que tenga el id pasado...\r\n    botonBorrar.addEventListener('click', function(){\r\n        carritoDeCompra.forEach( producto =>{\r\n            if(producto.id === id){\r\n            const index = carritoDeCompra.indexOf(producto);\r\n            carritoDeCompra.splice(index, 1)\r\n            //Formateo el objeto a por default... para que al agregarlo al carrito no tenga problemas..\r\n            delete objetoProducto.cantidad;\r\n            actualizarInterfazCarritoCompra();\r\n\r\n            }\r\n        })\r\n    })\r\n\r\n}\r\n\r\nfunction borrarProductoDeCarritoDeCompra(id, objetoProducto){\r\n    carritoDeCompra.forEach( producto =>{\r\n        if(producto.id === id){\r\n        const index = carritoDeCompra.indexOf(producto);\r\n        carritoDeCompra.splice(index, 1)\r\n        //Formateo el objeto a por default... para que al agregarlo al carrito no tenga problemas..\r\n        delete objetoProducto.cantidad;\r\n        actualizarInterfazCarritoCompra();\r\n\r\n        }\r\n    })\r\n}\r\nfunction ocultarModal(event){\r\n    \r\nconst modal = document.querySelector('.modalCarrito')\r\n    eventClass = event.target.closest('.contenedorCarritoCompras')\r\n    if(!eventClass){\r\n        mostrarScroll();\r\n        /* modal.classList.add('ocultar'); */\r\n        modal.remove();\r\n        mostrarHeader();\r\n        \r\n    }\r\n}\r\nfunction mostrarScroll(){\r\n    const contenedor = document.querySelector('body');\r\n    contenedor.style.overflowY = 'scroll';\r\n}\r\nfunction esconderScroll(){\r\n    const contenedor = document.querySelector('body');\r\n    contenedor.style.overflowY = 'hidden';\r\n    \r\n}\r\n//Termina carrito compras//\r\n\r\n\r\n//Agrega evento al menuHamburgesa\r\nfunction eventoMenu(){\r\n    menu = document.querySelector('.hamburgerMenu');\r\n    menu.addEventListener('click', function(){\r\n        mostrarModal();\r\n        \r\n    })\r\n}\r\n//Muestra modal.\r\nfunction mostrarModal(){\r\n    ocultarHeader();\r\n    botonCerrar = document.querySelector('.icono')\r\n    modal = document.querySelector('.modal');\r\n    modal.classList.remove('ocultar');\r\n    modal.addEventListener('click', ocultarModalAndMostrarHeader)\r\n    /* botonCerrar.addEventListener('click', function(){\r\n        ocultarModalAndMostrarHeader(event, '.icono');\r\n    }) */\r\n}\r\n//Oculta el modal y header presionando afuera del menu...\r\nfunction ocultarModalAndMostrarHeader(event){\r\n    eventClass = event.target.closest('.menu')\r\n    if(!eventClass){\r\n        modal.classList.add('ocultar');\r\n        mostrarHeader();\r\n        modal.removeEventListener('click', ocultarModalAndMostrarHeader)\r\n        \r\n    }\r\n}\r\n//Subrayar pagina actual\r\nfunction subrayarPaginaActual(){\r\n    paginaActual = obtenerPaginaActual();\r\n    menuCampos = document.querySelectorAll('.menuCampo a');\r\n    menuCampos.forEach( menuCampo =>{\r\n        if(menuCampo.attributes.href.value === paginaActual ){\r\n            menuCampo.classList.add('subrayarAmarillo');\r\n        }\r\n    })\r\n    \r\n}\r\n\r\nfunction obtenerPaginaActual(){\r\n    const paginaActual = window.location.pathname;\r\n    return paginaActual;\r\n}\r\nfunction ocultarHeader(){\r\n    header = document.querySelector('header');\r\n    header.classList.add('ocultar');\r\n}\r\nfunction mostrarHeader(){\r\n    header = document.querySelector('header');\r\n    header.classList.remove('ocultar');\r\n}\r\n//agregar posicion fixed en navegacion.\r\nfunction agregarFixed(){\r\n    header = document.querySelector('.header');\r\n    sectionReferencia = document.querySelector('.nombre-pagina');\r\n\r\n    document.addEventListener('scroll', function(){\r\n        let scrollNumber = sectionReferencia.getBoundingClientRect().top\r\n        if(scrollNumber < 1){\r\n            header.classList.add('positionFixed');\r\n        }\r\n        else{\r\n            header.classList.remove('positionFixed');\r\n        }\r\n    })\r\n}\r\n//Agrega evento a inputs Radio.\r\nfunction eventoInputs(){\r\n    inputBoton = document.querySelectorAll(\"[name='user[contacto]']\")\r\n    inputBoton.forEach(function(input){\r\n        input.addEventListener('click', function(e){\r\n            target = e.target.id;\r\n            mostrar(target);\r\n        })\r\n    });\r\n}\r\n//Muestra el contacto seleccionado..\r\nfunction mostrar (id){\r\n    div = document.querySelector('.contactoDiv');\r\n    if(id === 'byTelefono'){\r\n        div.innerHTML = `\r\n        <label for=\"telefono\">Numero de Celular</label>\r\n        <input id=\"telefono\" type=\"tel\" placeholder=\"Tu numero de celular\" name=\"user[telefono]\">\r\n        `\r\n    }\r\n    if(id === 'byEmail'){\r\n        div.innerHTML = `\r\n        <label for=\"email\">Correo</label>\r\n        <input id=\"email\" type=\"email\" placeholder=\"Tu correo electronico\" name=\"user[email]\">\r\n        `\r\n    }\r\n    \r\n\r\n}"]}