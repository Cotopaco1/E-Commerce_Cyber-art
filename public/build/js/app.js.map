{"version":3,"file":"app.js","names":["formularioDatos","validado","errorInput","montoTotal","carritoDeCompra","usuario","id","nombre","apellidos","datos_de_contacto","telefono","email","direccion","ciudad","departamento","metodo_pago","paso","path","window","location","pathname","iniciarApp","eventoInputs","eventoMenu","subrayarPaginaActual","eventoCarritoUserBoton","agregarFixed","eventoCuadros","consultarApiCuadros","crearOpcionesEnSelected","recuperarCarritoCompras","tabs","mostrarSeccion","agregar_evento_botones_paginacion","inputMetodosDePago","formulario_evento","document","getElementById","eventos_reestablecer_password","eventos_recuperar_password","eventos_reenviar_confirmacion","eventos_login","eventos_crear_cuenta","querySelectorAll","forEach","input","addEventListener","verificar_input","activar_evento_submit_en_crear_cuenta","reestablecer_password","event","preventDefault","data","crear_objeto_con_datos_de_formulario","Object","entries","key","value","crear_alerta_de_error_con_id","resaltarErrores","crear_alerta_de_cargando","solicitar_reestablecer_password","then","eliminar_alerta_de_cargando","validar_respuesta_reestablecer_password","async","token_reset_password","URLSearchParams","search","get","json","JSON","stringify","url","options","method","body","resultado","fetch","error","console","log","respuesta","divRespuesta","innerHTML","Swal","fire","title","text","mensaje","icon","fontsize","href","querySelector","verificar_input_login","recuperar_password","solicitar_recuperar_password","validar_respuesta_recuperar_password","reenviar_confirmacion","solicitar_reenviar_confirmacion","validar_respuesta_reenviar_email","logIn_usuario","enviar_solicitud_login","validar_respuesta_login","includes","e","target","errorAnterior","idInput","validarEmail","remove","test","crear_cuenta","alertaDiferente","element","createElement","setAttribute","classList","add","textContent","insertAdjacentElement","verificar_password","elemento","inputPasswordCaracteres","length","enviar_formulario_para_crear_cuenta","validar_respuesta_envio_formulario_crear_cuenta","insertar_alerta_cargando","crear_modal_en_body","modal","appendChild","alerta","setTimeout","div","alertas","mensajeError","errorParrafo","getFechaActualFormateada","form","Event","bubbles","cancelable","dispatchEvent","contenedorMetodoPagoEvento","contenedor","evento","metodo","dataset","metodoPago","mostrar_informacion_metodo_pago","contenedorAnterior","crear_pedido","obtenerValueElementById","fecha","datos","pedidos","monto_total","informacion_adicional","informacion_extra","apellido","cedula","jsonData","exito","button","mostrar_instrucciones_despues_de_pago","pedidoId","parseInt","costo_total","toLocaleString","validar_formulario_informacion_para_pedido","cambiarSeccionAdelante","fromEntries","FormData","divAlerta","firstChild","removeChild","parrafo","boton","activar_evento_submit_en_formulario_carrito_compras","seccionAnterior","botonAnterior","botonSiguiente","seccion","select","getDepartamentosColombia","option","name","departamentoId","eventoSelect","get_ciudades_de_un_departamento","selectedIndex","attributes","ciudades","crear_options_de_ciudad","ciudadId","removeAttribute","id_departamento","departamentos","mostrarCarritoDeCompras","interfaz","contenedorBig","tbody","producto","precio","descripcion","size","disponible","imagen","cantidad","nombreProducto","precioProducto","cantidadProducto","botonMas","agregarCantidad","botonMenos","restarCantidad","sizeProducto","descripcionProducto","iconoDiv","icono","idProducto","eliminarProducto","divInfo","divBotonesCantidad","imagenProducto","src","precioTotal","precioTotalParrafo","traw","tdDetalles","tdCantidad","tdPrecio","tdTotal","parrafoMontoTotal","sumarProductosCarrito","anterior","siguiente","cambiarSeccionAtras","index_producto","indexOf","splice","guardar_carrito_en_session","userData","usuarioID","status","now","Date","year","getFullYear","month","String","getMonth","padStart","day","getDate","getHours","getMinutes","getSeconds","imprimirResultadosApi","cuadro","section","cuadroDiv","imagenDiv","style","backgroundImage","infoDiv","idCuadro","nombreCuadro","precioCuadro","crearBotonComprarActual","cuadros","crearBotonComprar","eliminarBotonComprar","botonDIV","agregarAlCarrito","index","push","actualizarInterfazCarritoCompra","removeInterfazDinamico","removeEventListener","removeInterfaz","carritoCompra","userBoton","mostrarInterfazCarritoCompras","interfazCarritoCompras","esconderScroll","modalAnterior","crearModal","productoDiv","crearBotonBorrar","botonComprar","total","actualizar_resumen_de_carrito_compras","compras","borrarProductoDeCarritoDeCompra","ocultarHeader","ocultarModal","carritoDeCompras","objetoProducto","botonBorrar","eventClass","closest","mostrarScroll","mostrarHeader","overflowY","menu","mostrarModal","botonCerrar","ocultarModalAndMostrarHeader","paginaActual","obtenerPaginaActual","menuCampos","menuCampo","header","sectionReferencia","getBoundingClientRect","top","inputBoton","mostrar"],"sources":["app.js"],"mappings":"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","ignoreList":[],"sourcesContent":["let validado = false;\r\nlet errorInput = true;\r\nlet formularioDatos;\r\nlet montoTotal = 0;\r\nlet carritoDeCompra = [\r\n]\r\nconst usuario = {\r\n    id : null,\r\n    nombre : '',\r\n    apellidos: '',\r\n    datos_de_contacto: {\r\n        telefono: '',\r\n        email: '',\r\n        direccion: '',\r\n        ciudad: '',\r\n        departamento: ''\r\n    }\r\n}\r\n\r\n\r\nlet metodo_pago = '';\r\nlet paso = 1;\r\nconst path = window.location.pathname;\r\ndocument.addEventListener('DOMContentLoaded', function(){\r\niniciarApp();\r\n\r\n})\r\n\r\nfunction iniciarApp(){\r\n    \r\n    eventoInputs(); //Inputs radio\r\n    eventoMenu(); //Menu header\r\n    subrayarPaginaActual(); //menu Header\r\n    eventoCarritoUserBoton(); //menu Header\r\n    if(path === '/'){\r\n        agregarFixed(); //Menu Header\r\n        eventoCuadros();\r\n        consultarApiCuadros();\r\n\r\n    }\r\n    if(path === '/carrito_de_compras'){\r\n        agregarFixed(); //Menu Header\r\n        crearOpcionesEnSelected();\r\n        recuperarCarritoCompras();\r\n        tabs();\r\n        mostrarSeccion();\r\n        agregar_evento_botones_paginacion();\r\n        inputMetodosDePago();\r\n        formulario_evento();\r\n        /* contenedorMetodoPagoEvento(); */\r\n    }\r\n    if(path === '/crear_cuenta'){\r\n        eventos_crear_cuenta();\r\n        return\r\n    }\r\n    if(path === '/login'){\r\n        eventos_login();\r\n        return\r\n    }\r\n    if(path === '/reenviar_email'){\r\n        eventos_reenviar_confirmacion();\r\n        return\r\n    }\r\n    if(path === '/recuperar_password'){\r\n        eventos_recuperar_password();\r\n        return\r\n    }\r\n    if(path === '/reestablecer_password'){\r\n        const inputPassword = document.getElementById('password');\r\n        if(!inputPassword) return;\r\n\r\n        eventos_reestablecer_password();\r\n        return\r\n    }\r\n    \r\n}\r\n\r\n//Empieza reestablecer_password\r\n\r\nfunction eventos_reestablecer_password(){\r\n    document.querySelectorAll('.input').forEach(input=>{\r\n        input.addEventListener('input', verificar_input);\r\n    })\r\n    document.getElementById('recuperar_password').addEventListener('click', activar_evento_submit_en_crear_cuenta)\r\n\r\n    document.getElementById('formulario').addEventListener('submit', reestablecer_password )\r\n\r\n\r\n}\r\nfunction reestablecer_password(event){\r\n    event.preventDefault()\r\n    const data = crear_objeto_con_datos_de_formulario(event)\r\n    //verificar el objeto antes de mandarlo al back-end\r\n    Object.entries(data).forEach(([key, value]) => {\r\n        if(value === ''){\r\n            crear_alerta_de_error_con_id(key)\r\n        }\r\n        \r\n    });\r\n    if(errorInput){\r\n        resaltarErrores();\r\n        return;\r\n    }\r\n    \r\n    crear_alerta_de_cargando();\r\n    solicitar_reestablecer_password(data)\r\n    .then(eliminar_alerta_de_cargando)\r\n    .then(validar_respuesta_reestablecer_password);\r\n\r\n}\r\nasync function solicitar_reestablecer_password(data){\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const token_reset_password = urlParams.get('token')\r\n    data.token_reset_password = token_reset_password ;\r\n    if(!token_reset_password) return;\r\n\r\n    try {\r\n        const json = JSON.stringify(data)\r\n        const url = 'http://localhost:3000/api/login/reestableccer_password'\r\n        const options = {\r\n            method: 'POST',\r\n            body: json\r\n        }\r\n        const resultado = await fetch(url, options);\r\n        const respuesta = await resultado.json();\r\n\r\n        return respuesta;\r\n\r\n        \r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n\r\n\r\n}\r\nfunction validar_respuesta_reestablecer_password(respuesta){\r\n    const divRespuesta = document.getElementById('respuesta_servidor')\r\n    divRespuesta.innerHTML = '';\r\n    if(respuesta.respuesta === 'exito'){\r\n        Swal.fire({\r\n            title: \"Buen trabajo!\",\r\n            text: `${respuesta.mensaje}`,\r\n            icon: \"success\",\r\n            fontsize: '5rem',\r\n          }).then(()=>{\r\n            window.location.href = 'http://localhost:3000/login'\r\n          })\r\n    }else{\r\n        divRespuesta.innerHTML = `\r\n        <p>${respuesta.mensaje}</p>\r\n        `\r\n    }\r\n}\r\n\r\n\r\n//Termina reestablecer_password\r\n\r\n\r\n//Empieza recuperar_password\r\nfunction eventos_recuperar_password(){\r\n    document.querySelector('#email').addEventListener('input', verificar_input_login)\r\n    document.querySelector('#recuperar_password').addEventListener('click', activar_evento_submit_en_crear_cuenta)\r\n    document.querySelector('#formulario').addEventListener('submit', recuperar_password)\r\n}\r\n\r\nfunction recuperar_password(event){\r\n//verificar value de los inputs.\r\n    event.preventDefault()\r\n    const data = crear_objeto_con_datos_de_formulario(event)\r\n    //verificar el objeto antes de mandarlo al back-end\r\n    Object.entries(data).forEach(([key, value]) => {\r\n        if(value === ''){\r\n            crear_alerta_de_error_con_id(key)\r\n        }\r\n        \r\n    });\r\n    if(errorInput){\r\n        resaltarErrores();\r\n        return;\r\n    }\r\n    crear_alerta_de_cargando();\r\n    solicitar_recuperar_password(data)\r\n    .then(eliminar_alerta_de_cargando)\r\n    .then(validar_respuesta_recuperar_password);\r\n}\r\nasync function solicitar_recuperar_password(data){\r\n\r\n    try {\r\n        json = JSON.stringify(data)\r\n        const url = '/api/login/recuperar_email';\r\n        const options = {\r\n            method: 'post',\r\n            body: json\r\n        }\r\n        const resultado = await fetch(url,options)\r\n        const respuesta = await resultado.json();\r\n        return respuesta;\r\n        \r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n\r\n}\r\nfunction validar_respuesta_recuperar_password(respuesta){\r\n    const divRespuesta = document.getElementById('respuesta_servidor')\r\n    divRespuesta.innerHTML = '';\r\n    if(respuesta.respuesta === 'exito'){\r\n        Swal.fire({\r\n            title: \"Correo enviado exitosamente!\",\r\n            text: `${respuesta.mensaje}`,\r\n            icon: \"success\",\r\n            fontsize: '5rem',\r\n          })/* .then(()=>{\r\n            window.location.href = 'http://localhost:3000/login'\r\n          }) */\r\n    }else{\r\n        divRespuesta.innerHTML = `\r\n        <p>${respuesta.mensaje}</p>\r\n        `\r\n    }\r\n\r\n}\r\n\r\n//Termina recuperar_password\r\n\r\n//Empiza reenviar_confirmacion\r\n\r\nfunction eventos_reenviar_confirmacion(){\r\n    document.querySelector('#email').addEventListener('input', verificar_input_login)\r\n    document.querySelector('#boton_reenviar').addEventListener('click', activar_evento_submit_en_crear_cuenta)\r\n    document.querySelector('#formulario').addEventListener('submit', reenviar_confirmacion)\r\n}\r\n\r\nfunction reenviar_confirmacion(event){\r\n    //verificar value de los inputs.\r\n    event.preventDefault()\r\n    const data = crear_objeto_con_datos_de_formulario(event)\r\n    //verificar el objeto antes de mandarlo al back-end\r\n    Object.entries(data).forEach(([key, value]) => {\r\n        if(value === ''){\r\n            crear_alerta_de_error_con_id(key)\r\n        }\r\n        \r\n    });\r\n    if(errorInput){\r\n        resaltarErrores();\r\n        return;\r\n    }\r\n    crear_alerta_de_cargando();\r\n    solicitar_reenviar_confirmacion(data)\r\n    .then(eliminar_alerta_de_cargando)\r\n    .then(validar_respuesta_reenviar_email);\r\n    \r\n}\r\nfunction validar_respuesta_reenviar_email(respuesta){\r\n    const divRespuesta = document.getElementById('respuesta_servidor')\r\n    divRespuesta.innerHTML = '';\r\n    if(respuesta.respuesta === 'exito'){\r\n        Swal.fire({\r\n            title: \"Correo reenviado exitosamente!\",\r\n            text: `${respuesta.mensaje}`,\r\n            icon: \"success\",\r\n            fontsize: '5rem',\r\n          })/* .then(()=>{\r\n            window.location.href = 'http://localhost:3000/login'\r\n          }) */\r\n    }else{\r\n        divRespuesta.innerHTML = `\r\n        <p>${respuesta.mensaje}</p>\r\n        `\r\n    }\r\n\r\n}\r\nasync function solicitar_reenviar_confirmacion(data){\r\n    \r\n    try {\r\n\r\n        const url = '/api/login/reenviar_email'\r\n        const json = JSON.stringify(data);\r\n        const options = {\r\n            method: 'POST',\r\n            body: json\r\n        }\r\n        \r\n        const resultado = await fetch(url,options);\r\n        const respuesta = await resultado.json();\r\n        return respuesta;\r\n        \r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n//Termina reenviar_confirmacion\r\n\r\n//Empieza /login\r\nfunction eventos_login(){\r\n    document.getElementById('formulario').addEventListener('submit', logIn_usuario)\r\n\r\n    document.getElementById('boton_ingresar').addEventListener('click' , activar_evento_submit_en_crear_cuenta )\r\n\r\n    document.querySelectorAll('.input').forEach(input=>{\r\n        input.addEventListener('input', verificar_input_login )\r\n    })\r\n\r\n}\r\n\r\nfunction logIn_usuario(event){\r\n    //capturar los datos del formulario en un objeto.\r\n    event.preventDefault()\r\n\r\n    const data = crear_objeto_con_datos_de_formulario(event)\r\n    //verificar el objeto antes de mandarlo al back-end\r\n    Object.entries(data).forEach(([key, value]) => {\r\n        if(value === ''){\r\n            crear_alerta_de_error_con_id(key)\r\n        }\r\n        \r\n    });\r\n    //Si en el objeto data hay algun campo que este vacio entonces...\r\n    if(errorInput){\r\n        resaltarErrores()\r\n        return\r\n    }\r\n    crear_alerta_de_cargando();\r\n    enviar_solicitud_login(data)\r\n    .then(eliminar_alerta_de_cargando)\r\n    .then(validar_respuesta_login)\r\n    \r\n    //enviar solicitud de login al backend.\r\n\r\n}\r\n\r\nfunction validar_respuesta_login(respuesta){\r\n\r\n    if(respuesta.respuesta === 'exitoso'){\r\n        window.location.href = 'http://localhost:3000/'\r\n    }\r\n    else{\r\n        console.log(respuesta);\r\n        if(respuesta.mensaje.includes('email')){\r\n            crear_alerta_de_error_con_id('email',respuesta.mensaje,true)\r\n\r\n        }else{\r\n\r\n            crear_alerta_de_error_con_id('password',respuesta.mensaje,true)\r\n        }\r\n    }\r\n}\r\nasync function enviar_solicitud_login(data){\r\n\r\n    try {\r\n\r\n        const json = JSON.stringify(data)\r\n\r\n        const options = {\r\n            method : 'POST',\r\n            body : json\r\n        }\r\n        const url = 'http://localhost:3000/api/login/login';\r\n\r\n        const resultado = await fetch(url, options);\r\n        const respuesta = await resultado.json()\r\n        return respuesta;\r\n        /* console.log(respuesta); */\r\n        \r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\n\r\nfunction verificar_input_login(e){\r\n    const value = e.target.value\r\n    const errorAnterior = document.querySelector(`#error${e.target.id}`)\r\n    const idInput = e.target.id;\r\n    if(value === ''){\r\n        crear_alerta_de_error_con_id(idInput);\r\n        return\r\n    }\r\n    if(idInput === 'email'){\r\n        const esValido = validarEmail(value)\r\n        if(!esValido){\r\n            crear_alerta_de_error_con_id(idInput, 'Woops! parece que tu email no es valido', true)\r\n            return\r\n        }\r\n    }\r\n    if(errorAnterior){\r\n        errorAnterior.remove()\r\n    }\r\n    const existeOtroError = document.querySelector('.errorInput')\r\n    if(existeOtroError){\r\n        return\r\n    }\r\n    \r\n    errorInput = false;\r\n}\r\nfunction validarEmail(email) {\r\n    const regex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    return regex.test(email);\r\n}\r\n\r\n//Termina /login\r\n\r\n//Empieza crear_cuenta\r\n    //validacion del front-end con los datos..\r\nfunction eventos_crear_cuenta(){\r\n    const formulario = document.getElementById('formulario');\r\n    formulario.addEventListener('submit', crear_cuenta)\r\n    const boton_crear_cuenta = document.getElementById('boton_crear_cuenta')\r\n    boton_crear_cuenta.addEventListener('click', activar_evento_submit_en_crear_cuenta)\r\n\r\n    document.querySelectorAll('.input').forEach(input=>{\r\n        input.addEventListener('input', verificar_input )\r\n    })\r\n\r\n}\r\n\r\nfunction crear_alerta_de_error_con_id(id, mensaje = '', alertaDiferente = false){\r\n    errorInput = true;\r\n    const errorAnterior = document.querySelector(`#error${id}`)\r\n    \r\n    const element = document.getElementById(id);\r\n    const error = document.createElement('P')\r\n    error.setAttribute('id', `error${id}`)\r\n    error.classList.add('errorInput')\r\n    error.textContent = `**Necesitamos que llenes este campo**`\r\n    if(alertaDiferente){\r\n        error.textContent = `**${mensaje}**`\r\n    }\r\n    element.insertAdjacentElement('afterend', error);\r\n    if(errorAnterior){\r\n        errorAnterior.remove();\r\n    }\r\n}\r\n\r\n\r\nfunction verificar_input(e){\r\n    const value = e.target.value\r\n    const errorAnterior = document.querySelector(`#error${e.target.id}`)\r\n    const idInput = e.target.id;\r\n    if(value === ''){\r\n        crear_alerta_de_error_con_id(idInput);\r\n        return\r\n    }\r\n    if(idInput === 'email'){\r\n        const esValido = validarEmail(value)\r\n        if(!esValido){\r\n            crear_alerta_de_error_con_id(idInput, 'Woops! parece que tu email no es valido', true)\r\n            return\r\n        }\r\n    }\r\n   \r\n    if(idInput === 'password'){\r\n        const estaVerificada = verificar_password(idInput);\r\n        if(!estaVerificada) return\r\n    \r\n    }\r\n    if(idInput ==='password_confirmar'){\r\n        const inputPassword = document.getElementById('password')\r\n        if(value !== inputPassword.value){\r\n            crear_alerta_de_error_con_id(idInput, 'Las contraseÃ±as no coinciden', true)\r\n            return\r\n        }\r\n    }\r\n    if(errorAnterior){\r\n        errorAnterior.remove()\r\n    }\r\n    const existeOtroError = document.querySelector('.errorInput')\r\n    if(existeOtroError){\r\n        return\r\n    }\r\n    \r\n    errorInput = false;\r\n\r\n}\r\nfunction verificar_password(idInput){\r\n    const elemento = document.querySelector(`#${idInput}`)\r\n    const minPasswordCaracteres = 6\r\n    const inputPasswordCaracteres = elemento.value.length\r\n\r\n    const errorAnterior = document.querySelector(`#error${idInput}`)\r\n    \r\n    if(inputPasswordCaracteres < minPasswordCaracteres){\r\n        \r\n        const error = document.createElement('P')\r\n        error.setAttribute('id', `error${idInput}`)\r\n        error.classList.add('errorInput')\r\n        error.textContent = `**La contraseÃ±a debe tener minimo 6 caracteres**`\r\n        elemento.insertAdjacentElement('afterend', error);\r\n        if(errorAnterior){\r\n            errorAnterior.remove();\r\n        }\r\n        return false\r\n    }\r\n    return true\r\n\r\n}\r\n    //Termina validacion del front-end\r\n\r\n    //validacion con el back-end de los datos..\r\nfunction crear_cuenta(event){\r\n    event.preventDefault()\r\n    const data = crear_objeto_con_datos_de_formulario(event)\r\n    //Verificar el contenido de los inputs.\r\n    Object.entries(data).forEach(([key, value]) => {\r\n        if(value === ''){\r\n            crear_alerta_de_error_con_id(key)\r\n        }\r\n        \r\n    });\r\n    //Si en el objeto data hay algun campo que este vacio entonces...\r\n    if(errorInput){\r\n        resaltarErrores()\r\n        return\r\n    }\r\n    //crear alerta de cargando.\r\n    crear_alerta_de_cargando();\r\n    enviar_formulario_para_crear_cuenta(data)\r\n    .then(eliminar_alerta_de_cargando)\r\n    .then(validar_respuesta_envio_formulario_crear_cuenta) \r\n}\r\n\r\nfunction crear_alerta_de_cargando(){\r\n    const modal = crear_modal_en_body()\r\n    insertar_alerta_cargando(modal);\r\n    //inserto alerta en el modal\r\n\r\n}\r\nfunction eliminar_alerta_de_cargando(resultado){\r\n    //eliminar modal que contiene la alerta.\r\n    const modal = document.getElementById('modal');\r\n    modal.remove();\r\n    return resultado\r\n}\r\n\r\nfunction crear_modal_en_body(){\r\n    const modal = document.createElement('DIV');\r\n    const body = document.querySelector('body')\r\n    modal.classList.add('modal', 'modal_crear_cuenta');\r\n    modal.id = 'modal';\r\n    body.appendChild(modal);\r\n    return modal;\r\n}\r\nfunction insertar_alerta_cargando(modal){\r\n    const alerta = document.createElement('DIV');\r\n    alerta.classList.add('alertaCargando')\r\n    alerta.innerHTML = `<i class=\"fa-solid fa-spinner fa-2xl\"></i>`\r\n    modal.appendChild(alerta);\r\n}\r\n\r\nfunction resaltarErrores(){\r\n   document.querySelectorAll('.errorInput').forEach(error=>{\r\n    error.classList.add('resaltarError');\r\n    setTimeout(() => {\r\n        error.classList.remove('resaltarError')\r\n    }, 500);\r\n   })\r\n}\r\n\r\nfunction validar_respuesta_envio_formulario_crear_cuenta(respuesta){\r\n    if(respuesta.respuesta){\r\n        const div = document.querySelector('#mensaje')\r\n        div.innerHTML = '';\r\n        Swal.fire({\r\n            title: \"Buen trabajo!\",\r\n            text: `${respuesta.mensaje}`,\r\n            icon: \"success\",\r\n            fontsize: '5rem',\r\n          }).then(()=>{\r\n            window.location.href = 'http://localhost:3000/login'\r\n          })\r\n\r\n       }else{\r\n        const div = document.querySelector('#mensaje')\r\n        div.innerHTML = '';\r\n        respuesta.alertas.error.forEach(mensajeError => {\r\n            const errorParrafo = document.createElement('P');\r\n            errorParrafo.textContent = mensajeError;\r\n            errorParrafo.classList.add('mensaje_de_error')\r\n            div.appendChild(errorParrafo);\r\n        });\r\n        /* div.innerHTML = `<p>Ha fallado la autentificacion</p>` */\r\n       }\r\n}\r\n\r\nasync function enviar_formulario_para_crear_cuenta(data){\r\n\r\n    try {\r\n        const fecha = getFechaActualFormateada();\r\n        const url = 'http://localhost:3000/api/login/crear_cuenta'\r\n        const json = JSON.stringify(data)\r\n        const options = {\r\n            method : 'post',\r\n            body : json\r\n        }\r\n        \r\n       const resultado =  await fetch(url, options);\r\n       const respuesta = await resultado.json();\r\n       //si la respuesta es true mandamos alerta\r\n       return respuesta;\r\n       /* if(respuesta.respuesta){\r\n        Swal.fire({\r\n            title: \"Good job!\",\r\n            text: `${respuesta.mensaje}`,\r\n            icon: \"success\"\r\n          });\r\n       }else{\r\n        const div = document.querySelector('#mensaje')\r\n        div.innerHTML = `<p>${respuesta.mensaje}</p>`\r\n       } */\r\n       \r\n        /* .this(resultado=>{\r\n            console.log(resultado.json)\r\n        }) */\r\n        \r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\n\r\nfunction activar_evento_submit_en_crear_cuenta(){\r\n    //Creo evento de submit y se lo aplico al formulario...\r\n    const form = document.getElementById('formulario');\r\n    const event = new Event('submit', {\r\n        'bubbles': true,\r\n        'cancelable': true\r\n    });\r\n    form.dispatchEvent(event);\r\n}\r\n\r\n    //Termina validacion del backend\r\n\r\n//Termina crear_cuenta\r\n\r\n\r\n\r\n//deshabilitado por el momento..\r\nfunction contenedorMetodoPagoEvento(){\r\n    document.querySelectorAll('.contenedor_metodo_pago').forEach(contenedor=>{\r\n        contenedor.addEventListener('click', evento=>{\r\n            const metodo = evento.target.dataset.metodoPago;\r\n            metodo_pago = metodo;\r\n            mostrar_informacion_metodo_pago();\r\n        })\r\n    })\r\n\r\n}\r\n//crear evento de inputs radio en metodos de pago...\r\nfunction inputMetodosDePago(){\r\n    const inputs = document.querySelectorAll('.input_radio_metodo_pago');\r\n    inputs.forEach(input=>{\r\n        input.addEventListener('click', event=>{\r\n            const metodo = event.target.dataset.metodoPago;\r\n            metodo_pago = metodo;\r\n            mostrar_informacion_metodo_pago();\r\n        })\r\n    })\r\n}\r\n\r\n//Muestra informacion dependiendo del metodo seleccionado por el usuario\r\nfunction mostrar_informacion_metodo_pago(){\r\n    const div = document.createElement('DIV')\r\n    div.classList.add('contenedor_crear_pedido')\r\n    //Elimina el contenedor anterior..\r\n    const contenedorAnterior = document.querySelector('.contenedor_crear_pedido');\r\n    if(contenedorAnterior){\r\n        contenedorAnterior.remove()\r\n    }\r\n    //Muestra html dependiedno del metodo de pago.\r\n    if(metodo_pago === 'transferencia'){\r\n        const contenedor = document.querySelector(\"[data-metodo-pago='transferencia'\")\r\n        div.innerHTML = `<button class=\"boton_crear_pedido boton\">Terminar pedido</button>\r\n            <p class=\"crear_pedido_descripcion\">Listo... Selecciona crear pedido para\r\n                crear la orden, una vez tengas la orden realizada, solo falta realizar\r\n                el pago y empezaremos a realizar y despachar tu pedido... ðŸ˜Ž\r\n            </p>`\r\n            /* console.log(contenedor) */\r\n            contenedor.appendChild(div);\r\n            metodo_pago = 'transferencia';\r\n            document.querySelector('.boton_crear_pedido').addEventListener('click', crear_pedido)\r\n            return\r\n    }\r\n    if(metodo_pago === 'pse'){\r\n        const contenedor = document.querySelector(\"[data-metodo-pago='pse'\")\r\n        div.innerHTML = `<p>Todavia no hemos habilitado transferencia PSE... esperalo pronto :D</p>`\r\n        metodo_pago = 'pse';\r\n        contenedor.appendChild(div);\r\n        return\r\n    }\r\n\r\n}\r\n\r\nfunction obtenerValueElementById(element){\r\n    const elementHtml = document.getElementById(element)\r\n    const value = elementHtml.value\r\n    return value;\r\n}\r\n//Envio definitivo del pedido, para crear el pedido completo en la base de datos..\r\nasync function crear_pedido(){\r\n\r\n    try {\r\n        const fecha = getFechaActualFormateada();\r\n        //Crear objeto que sera convertido a JSON y enviado por fetch POST\r\n        const datos = {\r\n            carritoDeCompra : carritoDeCompra,\r\n            /* formulario : formularioDatos,\r\n            fecha : fecha,\r\n            monto_total : montoTotal,\r\n            metodo_pago : metodo_pago, */\r\n            /* organizo para la DB */\r\n            pedidos : {\r\n                fecha : fecha,\r\n                direccion : formularioDatos.direccion,\r\n                monto_total : montoTotal,\r\n                departamento : formularioDatos.departamento,\r\n                ciudad : formularioDatos.ciudad,\r\n                metodo_pago : metodo_pago,\r\n                informacion_adicional : formularioDatos.informacion_extra,\r\n                \r\n            },\r\n            usuario: {\r\n                nombre : formularioDatos.nombre,\r\n                apellido : formularioDatos.apellido,\r\n                email : formularioDatos.email,\r\n                telefono : formularioDatos.telefono,\r\n                cedula: formularioDatos.cedula\r\n            }\r\n            \r\n        }\r\n        const url = 'http://localhost:3000/api/crear_orden';\r\n        jsonData = JSON.stringify(datos);\r\n\r\n        const options = {\r\n            method : 'POST',\r\n            body : jsonData\r\n        }\r\n        console.log(datos);\r\n        //Envio del objeto a la DB\r\n        const respuesta = await fetch(url, options)\r\n        const resultado = await respuesta.json();\r\n        console.log(resultado);\r\n        //Alerta si el resultado es exitoso.\r\n        if(resultado.exito){\r\n            Swal.fire({\r\n                icon: \"success\",\r\n                title: \"Pedido creado\",\r\n                text: \"El pedido ha sido guardado con exito\",\r\n                button: 'OK'\r\n              }).then(() =>{\r\n                //crear un div con insutrcciones para el usuario... \r\n                mostrar_instrucciones_despues_de_pago(resultado);  \r\n              })\r\n        }\r\n\r\n    } catch (error) {\r\n        console.log(error)\r\n        Swal.fire({\r\n            icon: \"error\",\r\n            title: \"Ha habido un error\",\r\n            text: \"El pedido no se ha podido crear..\"\r\n          });\r\n    }\r\n}\r\n//Crea instrucciones en el paso-3\r\nfunction mostrar_instrucciones_despues_de_pago(resultado){\r\n    const div = document.querySelector('main')\r\n    //crear div\r\n    div.innerHTML = `\r\n    <h1>Gracias por tu compra!</h1>\r\n    <div class=\"div_instrucciones_pago contenedor\">\r\n    <h2>Instrucciones a seguir</h2>\r\n    <div class=\"contenedorInstrucciones\">\r\n        <p>Consigna a nuestra cuenta bancolombia #: <span>412514</span></p>\r\n        <p>Manda un screenshot a nuestro wp #124123123312 con el pedido # <span>${resultado.pedidoId}</span></p>\r\n        <p>Recibe tus productos en la puerta de tu casa...!</p>\r\n    </div>\r\n    <div class=\"resumenCompra\"></div>\r\n    <h2>Resumen de tu pedido</h2>\r\n    <p>El pedido quedo a nombre de : <span> ${resultado.nombre} </span>  </p>\r\n    <p>El costo total a pagar es de : <span> ${parseInt(resultado.costo_total).toLocaleString()} </span></p>\r\n    <p>Los productos que te mandaremos son: ....</p>\r\n    <p>La direccion a la que te mandaremos los productos es: <span>${resultado.direccion}</span> </p>\r\n    </div>\r\n    `\r\n    \r\n}\r\n\r\nfunction formulario_evento(){\r\n    const formulario = document.getElementById('formulario_carrito_de_compras');\r\n    formulario.addEventListener('submit',  event=>{\r\n\r\n        event.preventDefault()\r\n        //guardo del formulario en un objeto...\r\n        const data = crear_objeto_con_datos_de_formulario(event)\r\n        validar_formulario_informacion_para_pedido(data)\r\n        .then(resultado =>{\r\n             //Si el resultado es falso significa que no paso la validacion y cortamos el codigo\r\n            if(!resultado){\r\n                validado = false;\r\n                return\r\n            }\r\n            validado = true;\r\n            formularioDatos = data;\r\n            cambiarSeccionAdelante();\r\n        }) \r\n    })\r\n}\r\n\r\nfunction crear_objeto_con_datos_de_formulario(event){\r\n    const data = Object.fromEntries(new FormData(event.target))\r\n    return data;\r\n}\r\n\r\n\r\n//Validar formulario de informacion para el pedido\r\nasync function validar_formulario_informacion_para_pedido(data){\r\n\r\n    try {\r\n        jsonData = JSON.stringify(data);\r\n\r\n        const url = 'http://localhost:3000/api/validar_formulario';\r\n        const options = {\r\n            method : 'POST',\r\n            body : jsonData\r\n        }\r\n        console.log(data);\r\n        const resultado = await fetch(url, options)\r\n        const respuesta = await resultado.json();\r\n\r\n        if(respuesta.error){\r\n            //eliminamos alertas anteriores\r\n            const divAlerta = document.querySelector('#alertas')\r\n            while(divAlerta.firstChild){\r\n                divAlerta.removeChild(divAlerta.firstChild);\r\n            }\r\n            respuesta.error.forEach(error=>{\r\n                const parrafo = document.createElement('P')\r\n                parrafo.classList.add('alerta', 'error')\r\n                parrafo.textContent = error\r\n                divAlerta.appendChild(parrafo)\r\n                return false;\r\n            })\r\n        }else{\r\n            return true;\r\n        }\r\n\r\n    } catch (error) {\r\n        const divAlerta = document.querySelector('#alertas')\r\n        const parrafo = document.createElement('P')\r\n        parrafo.textContent = error\r\n        divAlerta.appendChild(parrafo)\r\n    }\r\n}\r\n//Evento botones Tabs:\r\nfunction tabs(){\r\n    let botones = document.querySelectorAll('.tabs button')\r\n    botones.forEach( (boton) => {\r\n        boton.addEventListener('click', function(e){\r\n            if(e.target.dataset.paso === '3'){\r\n                const resultado = activar_evento_submit_en_formulario_carrito_compras()\r\n                if(!resultado){\r\n                    return\r\n                }\r\n            }\r\n           \r\n            paso = parseInt(e.target.dataset.paso);\r\n           \r\n            mostrarSeccion();\r\n            /* botonesPaginador(); */\r\n            /* boton.classList.toggle('actual') */\r\n        })\r\n    })\r\n\r\n}\r\n//Mostrar seccion igual al paso:\r\nfunction mostrarSeccion(){\r\n\r\n    //quitar mostrar a seccion anterior\r\n    let seccionAnterior = document.querySelector('.actual');\r\n    const botonAnterior = document.querySelector('#anterior');\r\n    const botonSiguiente = document.querySelector('#siguiente');\r\n\r\n\r\n    /* let botonAnterior = document.querySelector('.actual'); */\r\n    if(paso === 3 ){\r\n        const divAlerta = document.querySelector('#alertas')\r\n        while(divAlerta.firstChild){\r\n            divAlerta.removeChild(divAlerta.firstChild);\r\n        }\r\n        //validar los campos del usuario...\r\n        \r\n        if(!validado){\r\n            const alertasDiv = document.getElementById('alertas')\r\n            alertasDiv.innerHTML = `<p class='alerta error'> Faltan datos por rellenar</p>`\r\n            return\r\n        }\r\n        console.log('el usuario esta validado, pasando a la seccion 3')\r\n        botonSiguiente.classList.add('hidden')\r\n        /* mostrarResumen(); */\r\n    }\r\n    \r\n    if(seccionAnterior){\r\n        seccionAnterior.classList.remove('actual');\r\n        seccionAnterior.classList.add('ocultar')\r\n        \r\n        const botonAnterior = document.querySelector('.hidden')\r\n        if(botonAnterior){\r\n            botonAnterior.classList.remove('ocultar')\r\n\r\n        }\r\n        /* botonAnterior.classList.remove('actual'); */\r\n    }\r\n    if(paso === 1){\r\n        botonAnterior.classList.add('hidden')\r\n    }\r\n    if(paso === 2){\r\n        botonAnterior.classList.remove('hidden')\r\n        botonSiguiente.classList.remove('hidden')\r\n        /* crearBotonAnterior();\r\n        crearBotonSiguiente(); */\r\n    }\r\n    //Agrega mostrar a seccion seleccionada.\r\n    let seccion = document.querySelector(`#paso-${paso}`)\r\n    console.log(seccion, paso)\r\n    seccion.classList.add('actual');\r\n    seccion.classList.remove('ocultar')\r\n\r\n    //Resalto seccion actual.\r\n    /* boton = document.querySelector(`[data-paso='${paso}']`);\r\n    boton.classList.add('actual'); */\r\n}\r\n//crear option en el selected\r\nfunction crearOpcionesEnSelected(){\r\n    const select = document.querySelector('#departamento')\r\n   \r\n    getDepartamentosColombia()\r\n    .then(datos =>{\r\n        datos.forEach(departamento => {\r\n            const option = document.createElement('OPTION');\r\n            option.textContent = departamento.name\r\n            option.value = departamento.name\r\n            option.dataset.departamentoId = departamento.id\r\n            select.appendChild(option);\r\n        });\r\n    })\r\n\r\n    select.addEventListener('change', eventoSelect)\r\n}\r\nfunction eventoSelect(event){\r\n    const idDepartamento = event.target.options[event.target.selectedIndex].attributes['data-departamento-id'].value;\r\n    get_ciudades_de_un_departamento(idDepartamento)\r\n    .then(ciudades=>{\r\n        crear_options_de_ciudad(ciudades)\r\n        console.log(ciudades)\r\n    })\r\n\r\n}\r\n\r\nfunction crear_options_de_ciudad(ciudades){\r\n    const select = document.querySelector('#ciudad')\r\n    ciudades.forEach(ciudad => {\r\n        const option = document.createElement('OPTION');\r\n        option.textContent = ciudad.name\r\n        option.value = ciudad.name\r\n        option.dataset.ciudadId = ciudad.id\r\n        select.appendChild(option);\r\n    });\r\n    select.removeAttribute('disabled');\r\n}\r\n\r\nasync function get_ciudades_de_un_departamento(id_departamento){\r\n    try {\r\n        const url = `https://api-colombia.com/api/v1/Department/${id_departamento}/cities`\r\n        const resultado = await fetch(url);\r\n        const json = await resultado.json()\r\n        return json;\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n//Api departamentos Colombia:\r\n    //crear peticion a api para obtener todos los departamentos de colombia.\r\nlet departamentos = {};\r\nasync function getDepartamentosColombia(){\r\n    try {\r\n        const url = 'https://api-colombia.com/api/v1/Department';\r\n        const resultado = await fetch(url);\r\n        const json = await resultado.json()\r\n        return json;\r\n    } catch (error) {\r\n        console.log(error);\r\n    }  \r\n}\r\n\r\n//Recuperar carrito de compras...\r\nasync function recuperarCarritoCompras (){\r\n    try {\r\n        const url = 'http://localhost:3000/api/cuadros/guardar_carrito_compras';\r\n        //Envio de peticion a la DB\r\n        const respuesta = await fetch(url)\r\n        const resultado = await respuesta.json();\r\n        carritoDeCompra=resultado.carritoDeCompra\r\n        montoTotal = resultado.montoTotal;\r\n        mostrarCarritoDeCompras();\r\n\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nfunction mostrarCarritoDeCompras(){\r\n    const interfaz = document.querySelector('.contenedorProductosFormulario')\r\n    const contenedorBig = document.querySelector('#tbody')\r\n    \r\n        \r\n        //borras todos todos los producots y los vuelvo a crear.... (actualizar)\r\n        while(contenedorBig.firstChild){\r\n            contenedorBig.removeChild(contenedorBig.firstChild);\r\n            if(interfaz.firstChild){\r\n                interfaz.removeChild(interfaz.firstChild)\r\n\r\n            }\r\n        }\r\n        //si el carrito no tiene productos ..\r\n        if(!carritoDeCompra.length >= 1){\r\n            const parrafo = document.createElement('P');\r\n            parrafo.classList.add('parrafoCarritoVacio');\r\n            parrafo.innerHTML = `El carrito esta vacio ... <br /> Lo sentimos selecciona algo para poder seguir con alguna compra ...  ðŸ˜­`\r\n            interfaz.appendChild(parrafo);\r\n            return\r\n        }\r\n        //Crear productos e insertar en interfaz..\r\n        const tbody = document.getElementById('tbody');\r\n        carritoDeCompra.forEach(producto =>{\r\n            const {id, nombre, precio, descripcion, size, disponible, imagen, cantidad} = producto;\r\n\r\n            const productoDiv = document.createElement('DIV');\r\n            productoDiv.classList.add(\"interfazCampo\");\r\n\r\n            const nombreProducto = document.createElement('P');\r\n            nombreProducto.textContent = nombre;\r\n            nombreProducto.classList.add('nombre-producto')\r\n\r\n            const precioProducto = document.createElement('P');\r\n            precioProducto.textContent = `$${parseInt(precio).toLocaleString()}`;\r\n            \r\n            precioProducto.classList.add('precio-producto')\r\n\r\n            const cantidadProducto = document.createElement('P');\r\n            cantidadProducto.textContent = `Cantidad: ${cantidad}`;\r\n            cantidadProducto.classList.add('cantidad_producto');\r\n\r\n            const botonMas = document.createElement('BUTTON');\r\n            botonMas.classList.add('botonChico');\r\n            botonMas.textContent = '+';\r\n            botonMas.addEventListener('click', function(){\r\n                agregarCantidad(producto, true);\r\n            })\r\n\r\n            const botonMenos = document.createElement('BUTTON');\r\n            botonMenos.classList.add('botonChicoRojo');\r\n            botonMenos.textContent = '-';\r\n            botonMenos.addEventListener('click', function(){\r\n                restarCantidad(producto, true);\r\n            })\r\n\r\n\r\n            const sizeProducto = document.createElement('P');\r\n            sizeProducto.innerHTML = `<span>TamaÃ±o: </span> ${size}`;\r\n\r\n            const descripcionProducto = document.createElement('P');\r\n            descripcionProducto.classList.add('descripcion-producto')\r\n            descripcionProducto.textContent = descripcion;\r\n\r\n            const iconoDiv = document.createElement('DIV');\r\n            iconoDiv.classList.add('iconoDiv');\r\n\r\n            const icono = document.createElement('I');\r\n            icono.classList.add('fa-solid', 'fa-trash');\r\n            icono.dataset.idProducto = id;\r\n            icono.addEventListener('click', function(e){\r\n                const id_producto_a_eliminar = e.target.dataset.idProducto;\r\n                eliminarProducto(id_producto_a_eliminar)\r\n            })\r\n\r\n            iconoDiv.appendChild(icono)\r\n            \r\n            const divInfo = document.createElement('DIV');\r\n            divInfo.classList.add('infoProductoCarrito');\r\n            divInfo.appendChild(nombreProducto)\r\n            divInfo.appendChild(sizeProducto)\r\n            divInfo.appendChild(descripcionProducto)\r\n\r\n            const divBotonesCantidad = document.createElement('DIV');\r\n            divBotonesCantidad.classList.add('cantidad_producto_div')\r\n            divBotonesCantidad.appendChild(botonMas)\r\n            divBotonesCantidad.appendChild(botonMenos)\r\n            divBotonesCantidad.appendChild(iconoDiv);\r\n\r\n            const imagenProducto = document.createElement('IMG');\r\n            imagenProducto.src = `/img/productos/${imagen}`;\r\n\r\n\r\n            const precioTotal = precio * cantidad;\r\n            const precioTotalParrafo = document.createElement('P')\r\n            precioTotalParrafo.textContent = `$${precioTotal.toLocaleString()}`\r\n            precioTotalParrafo.classList.add('precio-total-produto')\r\n           \r\n            //Creo row de tabla e ingreso los datos a la fila...\r\n            const traw = document.createElement('TR');\r\n            const tdDetalles = document.createElement('TD');\r\n            tdDetalles.classList.add('tabla_DetallesDelProducto')\r\n            tdDetalles.appendChild(imagenProducto)\r\n            tdDetalles.appendChild(divInfo);\r\n\r\n            const tdCantidad = document.createElement('TD');\r\n            tdCantidad.appendChild(cantidadProducto);\r\n            tdCantidad.appendChild(divBotonesCantidad);\r\n            \r\n\r\n            const tdPrecio = document.createElement('TD');\r\n            tdPrecio.appendChild(precioProducto)\r\n\r\n            const tdTotal = document.createElement('TD');\r\n            tdTotal.appendChild(precioTotalParrafo);\r\n            \r\n            traw.appendChild(tdDetalles)\r\n            traw.appendChild(tdCantidad)\r\n            traw.appendChild(tdPrecio)\r\n            traw.appendChild(tdTotal)\r\n            tbody.appendChild(traw);\r\n            \r\n        })\r\n        //Muestra el montoTotal en carrito de compras.\r\n        const parrafoMontoTotal = document.createElement('P');\r\n        parrafoMontoTotal.classList.add('parrafoMontoTotal')\r\n        montoTotal = sumarProductosCarrito();\r\n        parrafoMontoTotal.innerHTML = `<span>Monto Total:</span> $${montoTotal.toLocaleString()} COP`;\r\n        interfaz.appendChild(parrafoMontoTotal)\r\n        //Crea boton para seguir a la siguiente seccion...\r\n    \r\n\r\n       /*  const botonSiguiente = document.createElement('BUTTON');\r\n        botonSiguiente.classList.add('botonAzul');\r\n        botonSiguiente.setAttribute('id', 'botonSiguiente')\r\n        botonSiguiente.textContent = 'Siguiente..'\r\n        botonSiguiente.onclick = cambiarSeccionAdelante;\r\n\r\n        const botonSiguienteDiv = document.createElement('DIV');\r\n        botonSiguienteDiv.classList.add('botonSiguienteDiv')\r\n        botonSiguienteDiv.appendChild(botonSiguiente); */\r\n\r\n        /* interfaz.appendChild(botonSiguienteDiv) */\r\n\r\n\r\n}\r\n//evento botones}\r\nfunction agregar_evento_botones_paginacion(){\r\n    anterior = document.querySelector('#anterior')\r\n    siguiente = document.querySelector('#siguiente')\r\n\r\n    siguiente.addEventListener('click', cambiarSeccionAdelante)\r\n    anterior.addEventListener('click', cambiarSeccionAtras)\r\n\r\n}\r\n\r\n//Activa el evento submit en el formulario\r\nfunction activar_evento_submit_en_formulario_carrito_compras(){\r\n    //Creo evento de submit y se lo aplico al formulario...\r\n    const form = document.getElementById('formulario_carrito_de_compras');\r\n    const event = new Event('submit', {\r\n        'bubbles': true,\r\n        'cancelable': true\r\n    });\r\n    form.dispatchEvent(event);\r\n}\r\n\r\n//Cambiar seccion\r\nfunction cambiarSeccionAdelante(e){\r\n    const ultimoPaso = 3;\r\n    if(paso === 2 ){\r\n        activar_evento_submit_en_formulario_carrito_compras();\r\n        if(!validado){\r\n            return\r\n        }\r\n    }\r\n\r\n    /* if(paso === 2 && validado === false){\r\n        const alertasDiv = document.getElementById('alertas')\r\n        alertasDiv.innerHTML = `<p class='alerta error'> Faltan datos por rellenar</p>`\r\n        return\r\n    } */\r\n\r\n    if(paso === ultimoPaso){\r\n        return\r\n    }\r\n    paso++;\r\n    mostrarSeccion();\r\n}\r\nfunction cambiarSeccionAtras(){\r\n    const primerPaso = 1;\r\n    if(paso === primerPaso){\r\n        return\r\n    }\r\n    paso--;\r\n    mostrarSeccion();\r\n}\r\n\r\n//Eliminar producto id\r\nfunction eliminarProducto(id){\r\n\r\n    carritoDeCompra.forEach(producto =>{\r\n        if(producto.id === id){\r\n            const index_producto = carritoDeCompra.indexOf(producto.id);\r\n            carritoDeCompra.splice(index_producto, 1);\r\n            console.log(carritoDeCompra);\r\n            mostrarCarritoDeCompras();\r\n        }\r\n    })\r\n\r\n}\r\n//Enviar peticion para guardar el carrito con la sesion del usuario....\r\nasync function guardar_carrito_en_session (){\r\n    try {\r\n        const fecha = getFechaActualFormateada();\r\n        //Crear objeto que sera convertido a JSON y enviado por fetch POST\r\n        const datos = {\r\n            carritoDeCompra : carritoDeCompra,\r\n            userData : {\r\n                usuarioID : usuario.id\r\n            },\r\n            fecha : fecha,\r\n            status: 'pendiente',\r\n            monto_total : montoTotal,\r\n            metodo_pago : metodo_pago\r\n        }\r\n        const url = 'http://localhost:3000/api/cuadros/guardar_carrito_compras';\r\n        jsonData = JSON.stringify(datos);\r\n\r\n        const options = {\r\n            method : 'POST',\r\n            body : jsonData\r\n        }\r\n        console.log(datos)\r\n        //Envio del objeto a la DB\r\n        const respuesta = await fetch(url, options)\r\n        const resultado = await respuesta.json();\r\n        console.log(resultado);\r\n        //Alerta si el resultado es exitoso.\r\n        if(resultado.resultado){\r\n            Swal.fire({\r\n                icon: \"success\",\r\n                title: \"Pedido creado correctamente\",\r\n                text: \"El pedido ah sido creado crrectamente, a continuacion lee lo siguiente\",\r\n                button: 'OK'\r\n              }).then(() =>{\r\n                window.location.href = '/carrito_de_compras';       \r\n              })\r\n        }\r\n\r\n    } catch (error) {\r\n        console.log(error);\r\n        Swal.fire({\r\n            icon: \"error\",\r\n            title: \"Ha habido un error\",\r\n            text: \"El pedido no se ha podido crear..\"\r\n          });\r\n    }\r\n}\r\nfunction getFechaActualFormateada(){\r\n    const now = new Date();\r\n\r\n// Obtener las diferentes partes de la fecha y hora\r\nconst year = now.getFullYear();\r\nconst month = String(now.getMonth() + 1).padStart(2, '0'); // Los meses en JavaScript son 0-11, asÃ­ que sumamos 1\r\nconst day = String(now.getDate()).padStart(2, '0');\r\nconst hours = String(now.getHours()).padStart(2, '0');\r\nconst minutes = String(now.getMinutes()).padStart(2, '0');\r\nconst seconds = String(now.getSeconds()).padStart(2, '0');\r\n\r\n// Formatear la fecha y hora en el formato YYYY-MM-DD HH:MM:SS\r\nconst formattedDate = `${year}-${month}-${day}`;\r\nreturn formattedDate;\r\n}\r\n//Cuadros //\r\n//Mostrar Resultados ....\r\n//Consultar la api\r\nasync function consultarApiCuadros(){\r\n    try {\r\n        const url = 'http://localhost:3000/api/cuadros/getcuadros';\r\n        const resultado = await fetch(url);\r\n        const json = await resultado.json()\r\n        imprimirResultadosApi(json);\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n\r\n}\r\nfunction imprimirResultadosApi(json){\r\n\r\n    json.forEach( cuadro =>{\r\n        const { descripcion, disponible, id, imagen, nombre, precio, size} = cuadro\r\n        \r\n        const section = document.getElementById('cuadros');\r\n        \r\n        const cuadroDiv = document.createElement('DIV');\r\n        cuadroDiv.classList.add('cuadro')\r\n\r\n        const imagenDiv = document.createElement('DIV')\r\n        imagenDiv.classList.add('imagenCuadroDiv');\r\n        imagenDiv.style.backgroundImage = `url(/img/productos/${imagen})`\r\n        \r\n\r\n        const infoDiv = document.createElement('DIV');\r\n        infoDiv.classList.add('cuadro-info');\r\n        infoDiv.dataset.idCuadro = id;\r\n\r\n        const nombreCuadro = document.createElement('P')\r\n        nombreCuadro.classList.add('nombre-cuadro');\r\n        nombreCuadro.textContent = nombre;\r\n\r\n        const precioCuadro = document.createElement('P')\r\n        precioCuadro.classList.add('precio-cuadro');\r\n        precioCuadro.textContent = precio;\r\n\r\n        infoDiv.appendChild(nombreCuadro);\r\n        infoDiv.appendChild(precioCuadro);\r\n        crearBotonComprarActual(infoDiv, cuadro);\r\n\r\n        imagenDiv.appendChild(infoDiv);\r\n\r\n        cuadroDiv.appendChild(imagenDiv);\r\n\r\n        section.appendChild(cuadroDiv);\r\n\r\n    })\r\n}\r\nfunction eventoCuadros(){\r\n    cuadros = document.querySelectorAll('.imagenCuadroDiv');\r\n    cuadros.forEach( cuadro=>{\r\n        cuadro.addEventListener('mouseenter', crearBotonComprar)\r\n        cuadro.addEventListener('mouseleave', eliminarBotonComprar)\r\n    })\r\n    \r\n}\r\n\r\n//CrearBotonComprar Actual...\r\nfunction crearBotonComprarActual(event, cuadro){\r\n    const botonDIV = document.createElement(\"DIV\");\r\n    const boton = document.createElement(\"BUTTON\");\r\n    boton.classList.add('boton');\r\n    boton.textContent = `Agregar al carrito`;\r\n\r\n    botonDIV.appendChild(boton);\r\n    event.appendChild(botonDIV);\r\n\r\n    boton.addEventListener('click', function(){\r\n        agregarAlCarrito(cuadro);\r\n        \r\n    })\r\n    \r\n}\r\n\r\nfunction agregarAlCarrito(cuadro){\r\n   /*  let cantidad = 0;\r\n    carritoDeCompra = [...carritoDeCompra, cuadro] */\r\n    if('cantidad' in cuadro){\r\n        const {id } = cuadro;\r\n        let value;\r\n        carritoDeCompra.forEach(producto=>{\r\n            if(id === producto.id){\r\n                value = producto;\r\n            }\r\n        })\r\n        const index = carritoDeCompra.indexOf(value)\r\n        carritoDeCompra[index].cantidad = carritoDeCompra[index].cantidad + 1;\r\n    }else{\r\n        cuadro.cantidad = 1;\r\n        carritoDeCompra.push(cuadro)\r\n    }\r\n    \r\n    /* carritoDeCompra.push(cuadro); */\r\n    actualizarInterfazCarritoCompra();\r\n}\r\n\r\n// Termina cuadros //\r\n\r\nfunction removeInterfazDinamico(event, interfaz){\r\n    interfaz.remove();\r\n    event.target.removeEventListener('click', removeInterfaz);\r\n}\r\n\r\n//Crea un modal en toda la pantalla..., si ya existe solo le quita la clase ocultar y termina la ejecucion...\r\n//Carrito compras\r\n//evento Click carrito de compra, usuario boton HEADER.\r\nfunction eventoCarritoUserBoton(){\r\n    const carritoCompra = document.querySelector('.carritoCompra');\r\n    const userBoton = document.querySelector('.userBoton');\r\n    carritoCompra.addEventListener('click', mostrarInterfazCarritoCompras);\r\n    userBoton.addEventListener('click', mostrarInterfazCarritoCompras);\r\n\r\n    \r\n}\r\nfunction mostrarInterfazCarritoCompras(){\r\n    actualizarInterfazCarritoCompra();\r\n\r\n    const modal = document.querySelector('.modalCarrito');\r\n    const interfazCarritoCompras = document.querySelector('#carritoDeCompras')\r\n    modal.appendChild(interfazCarritoCompras);\r\n    esconderScroll();\r\n}\r\nfunction actualizarInterfazCarritoCompra(){\r\n    //Si ya existe un modal, entonces solo le quita occultar..\r\n    const modalAnterior = document.querySelector('.modalCarrito');\r\n    if(modalAnterior){\r\n        modalAnterior.remove();\r\n    }\r\n    crearModal();\r\n\r\n    const interfaz = document.querySelector('.contenedorCarritoCompras')\r\n    //si el carrito no tiene productos ..\r\n    if(!carritoDeCompra.length >= 1){\r\n        const parrafo = document.createElement('P');\r\n        parrafo.classList.add('parrafoCarritoVacio');\r\n        parrafo.textContent = 'El carrito esta vacio ...'\r\n        interfaz.appendChild(parrafo);\r\n        return\r\n    }\r\n        \r\n        //borras toda la interfaz.\r\n        while(interfaz.firstChild){\r\n            interfaz.removeChild(interfaz.firstChild);\r\n        }\r\n        //Crear productos e insertar en interfaz..\r\n        carritoDeCompra.forEach(producto =>{\r\n            const {id, nombre, precio, descripcion, size, disponible, imagen, cantidad} = producto;\r\n            \r\n            const productoDiv = document.createElement('DIV');\r\n            productoDiv.classList.add(\"interfazCampo\");\r\n\r\n            const nombreProducto = document.createElement('P');\r\n            nombreProducto.textContent = nombre;\r\n            nombreProducto.classList.add('nombre-producto')\r\n            const precioProducto = document.createElement('P');\r\n            precioProducto.textContent = precio;\r\n            precioProducto.classList.add('precio-producto')\r\n            const cantidadProducto = document.createElement('P');\r\n            cantidadProducto.textContent = `Cantidad: ${cantidad}`;\r\n\r\n            const botonMas = document.createElement('BUTTON');\r\n            botonMas.classList.add('botonChico');\r\n            botonMas.textContent = '+';\r\n            botonMas.addEventListener('click', function(){\r\n                agregarCantidad(producto);\r\n            })\r\n\r\n            const botonMenos = document.createElement('BUTTON');\r\n            botonMenos.classList.add('botonChicoRojo');\r\n            botonMenos.textContent = '-';\r\n            botonMenos.addEventListener('click', function(){\r\n                restarCantidad(producto);\r\n            })\r\n\r\n\r\n            \r\n\r\n            const divInfo = document.createElement('DIV');\r\n            divInfo.classList.add('infoProductoCarrito');\r\n            divInfo.appendChild(nombreProducto)\r\n            divInfo.appendChild(precioProducto)\r\n            divInfo.appendChild(cantidadProducto)\r\n            divInfo.appendChild(botonMas)\r\n            divInfo.appendChild(botonMenos)\r\n            crearBotonBorrar(divInfo, id, producto );\r\n\r\n            const imagenProducto = document.createElement('IMG');\r\n            imagenProducto.src = `/img/productos/${imagen}`;\r\n\r\n            productoDiv.appendChild(divInfo);\r\n            productoDiv.appendChild(imagenProducto);\r\n            interfaz.appendChild(productoDiv);\r\n            \r\n        })\r\n        //Muestra el montoTotal en carrito de compras.\r\n        const parrafoMontoTotal = document.createElement('P');\r\n        parrafoMontoTotal.classList.add('parrafoMontoTotal')\r\n        montoTotal = sumarProductosCarrito();\r\n        parrafoMontoTotal.textContent = `Monto Total: $${montoTotal.toLocaleString()} pesos Colombianos`;\r\n        interfaz.appendChild(parrafoMontoTotal)\r\n\r\n        //Boton de comprar en interfaz de carrito de compras.\r\n        const botonComprar = document.createElement('BUTTON');\r\n        botonComprar.classList.add('botonComprar')\r\n        botonComprar.textContent = `Comprar`\r\n        botonComprar.addEventListener('click', guardar_carrito_en_session )\r\n        interfaz.appendChild(botonComprar);\r\n}\r\n\r\nfunction sumarProductosCarrito(){\r\n    let total = 0\r\n    carritoDeCompra.forEach(producto => {\r\n        let precio = parseInt(producto.precio) * producto.cantidad\r\n        total = total + precio;\r\n    });\r\n    return total;\r\n}\r\n\r\nfunction actualizar_resumen_de_carrito_compras(){\r\n\r\n}\r\n\r\nfunction agregarCantidad(producto, compras = false){\r\n\r\n    const index = carritoDeCompra.indexOf(producto);\r\n    carritoDeCompra[index].cantidad ++;\r\n    if(compras){\r\n        mostrarCarritoDeCompras()  \r\n        return\r\n    }\r\n    actualizarInterfazCarritoCompra();\r\n}\r\n//Si compra es true, significa que se usara carrito_de_compras\r\nfunction restarCantidad(producto, compras = false){\r\n    const index = carritoDeCompra.indexOf(producto);\r\n    carritoDeCompra[index].cantidad --;\r\n    if(carritoDeCompra[index].cantidad < 1){\r\n        borrarProductoDeCarritoDeCompra(producto.id, producto);\r\n    }\r\n    if(compras){\r\n        mostrarCarritoDeCompras();\r\n        return\r\n    }\r\n    actualizarInterfazCarritoCompra();\r\n}\r\nfunction crearModal(){\r\n    esconderScroll();\r\n    \r\n    //este codigo solo se ejecuta una vez..\r\n    const modal = document.createElement('DIV');\r\n    modal.classList.add('modal', 'modalCarrito');\r\n    ocultarHeader();\r\n    modal.addEventListener('click', ocultarModal)\r\n\r\n    const body = document.querySelector('body');\r\n    const carritoDeCompras = document.createElement('DIV')\r\n    carritoDeCompras.id = 'carritoDeCompras'\r\n    carritoDeCompras.innerHTML = `\r\n    <div class=\"contenedorCarritoCompras\"></div>\r\n    `\r\n    modal.appendChild(carritoDeCompras);\r\n    body.appendChild(modal);\r\n}\r\n\r\nfunction crearBotonBorrar(contenedor, id, objetoProducto){\r\n    //crear boton en el contenedor\r\n    const botonBorrar = document.createElement('BUTTON');\r\n    botonBorrar.classList.add('botonBorrar')\r\n    botonBorrar.textContent = 'Elimina el producto'\r\n    contenedor.appendChild(botonBorrar);\r\n\r\n    //borrar el producto en el carrito que tenga el id pasado...\r\n    botonBorrar.addEventListener('click', function(){\r\n        carritoDeCompra.forEach( producto =>{\r\n            if(producto.id === id){\r\n            const index = carritoDeCompra.indexOf(producto);\r\n            carritoDeCompra.splice(index, 1)\r\n            //Formateo el objeto a por default... para que al agregarlo al carrito no tenga problemas..\r\n            delete objetoProducto.cantidad;\r\n            actualizarInterfazCarritoCompra();\r\n\r\n            }\r\n        })\r\n    })\r\n\r\n}\r\n\r\nfunction borrarProductoDeCarritoDeCompra(id, objetoProducto){\r\n    carritoDeCompra.forEach( producto =>{\r\n        if(producto.id === id){\r\n        const index = carritoDeCompra.indexOf(producto);\r\n        carritoDeCompra.splice(index, 1)\r\n        //Formateo el objeto a por default... para que al agregarlo al carrito no tenga problemas..\r\n        delete objetoProducto.cantidad;\r\n        actualizarInterfazCarritoCompra();\r\n\r\n        }\r\n    })\r\n}\r\nfunction ocultarModal(event){\r\n    \r\nconst modal = document.querySelector('.modalCarrito')\r\n    eventClass = event.target.closest('.contenedorCarritoCompras')\r\n    if(!eventClass){\r\n        mostrarScroll();\r\n        /* modal.classList.add('ocultar'); */\r\n        modal.remove();\r\n        mostrarHeader();\r\n        \r\n    }\r\n}\r\nfunction mostrarScroll(){\r\n    const contenedor = document.querySelector('body');\r\n    contenedor.style.overflowY = 'scroll';\r\n}\r\nfunction esconderScroll(){\r\n    const contenedor = document.querySelector('body');\r\n    contenedor.style.overflowY = 'hidden';\r\n    \r\n}\r\n//Termina carrito compras//\r\n\r\n//Agrega evento al menuHamburgesa\r\nfunction eventoMenu(){\r\n    menu = document.querySelector('.hamburgerMenu');\r\n    menu.addEventListener('click', function(){\r\n        mostrarModal();\r\n        \r\n    })\r\n}\r\n//Muestra modal.\r\nfunction mostrarModal(){\r\n    ocultarHeader();\r\n    botonCerrar = document.querySelector('.icono')\r\n    modal = document.querySelector('.modal');\r\n    modal.classList.remove('ocultar');\r\n    modal.addEventListener('click', ocultarModalAndMostrarHeader)\r\n    /* botonCerrar.addEventListener('click', function(){\r\n        ocultarModalAndMostrarHeader(event, '.icono');\r\n    }) */\r\n}\r\n//Oculta el modal y header presionando afuera del menu...\r\nfunction ocultarModalAndMostrarHeader(event){\r\n    eventClass = event.target.closest('.menu')\r\n    if(!eventClass){\r\n        modal.classList.add('ocultar');\r\n        mostrarHeader();\r\n        modal.removeEventListener('click', ocultarModalAndMostrarHeader)\r\n        \r\n    }\r\n}\r\n//Subrayar pagina actual\r\nfunction subrayarPaginaActual(){\r\n    paginaActual = obtenerPaginaActual();\r\n    menuCampos = document.querySelectorAll('.menuCampo a');\r\n    menuCampos.forEach( menuCampo =>{\r\n        if(menuCampo.attributes.href.value === paginaActual ){\r\n            menuCampo.classList.add('subrayarAmarillo');\r\n        }\r\n    })\r\n    \r\n}\r\n\r\nfunction obtenerPaginaActual(){\r\n    const paginaActual = window.location.pathname;\r\n    return paginaActual;\r\n}\r\nfunction ocultarHeader(){\r\n    header = document.querySelector('header');\r\n    header.classList.add('ocultar');\r\n}\r\nfunction mostrarHeader(){\r\n    header = document.querySelector('header');\r\n    header.classList.remove('ocultar');\r\n}\r\n//agregar posicion fixed en navegacion.\r\nfunction agregarFixed(){\r\n    header = document.querySelector('.header');\r\n    sectionReferencia = document.querySelector('.nombre-pagina');\r\n\r\n    document.addEventListener('scroll', function(){\r\n        let scrollNumber = sectionReferencia.getBoundingClientRect().top\r\n        if(scrollNumber < 1){\r\n            header.classList.add('positionFixed');\r\n        }\r\n        else{\r\n            header.classList.remove('positionFixed');\r\n        }\r\n    })\r\n}\r\n//Agrega evento a inputs Radio.\r\nfunction eventoInputs(){\r\n    inputBoton = document.querySelectorAll(\"[name='user[contacto]']\")\r\n    inputBoton.forEach(function(input){\r\n        input.addEventListener('click', function(e){\r\n            target = e.target.id;\r\n            mostrar(target);\r\n        })\r\n    });\r\n}\r\n//Muestra el contacto seleccionado..\r\nfunction mostrar (id){\r\n    div = document.querySelector('.contactoDiv');\r\n    if(id === 'byTelefono'){\r\n        div.innerHTML = `\r\n        <label for=\"telefono\">Numero de Celular</label>\r\n        <input id=\"telefono\" type=\"tel\" placeholder=\"Tu numero de celular\" name=\"user[telefono]\">\r\n        `\r\n    }\r\n    if(id === 'byEmail'){\r\n        div.innerHTML = `\r\n        <label for=\"email\">Correo</label>\r\n        <input id=\"email\" type=\"email\" placeholder=\"Tu correo electronico\" name=\"user[email]\">\r\n        `\r\n    }\r\n\r\n}"]}