const carritoDeCompra=[];function iniciarApp(){eventoInputs(),eventoMenu(),agregarFixed(),subrayarPaginaActual(),eventoCarritoUserBoton(),eventoCuadros(),consultarApiCuadros()}async function consultarApiCuadros(){try{const e="http://localhost:3000/api/cuadros",o=await fetch(e);imprimirResultadosApi(await o.json())}catch(e){console.log(e)}}function imprimirResultadosApi(e){e.forEach((e=>{const{descripcion:o,disponible:t,id:r,imagen:a,nombre:n,precio:c,size:i}=e,d=document.getElementById("cuadros"),l=document.createElement("DIV");l.classList.add("cuadro");const s=document.createElement("DIV");s.classList.add("imagenCuadroDiv"),s.style.backgroundImage=`url(/img/${a})`;const u=document.createElement("DIV");u.classList.add("cuadro-info"),u.dataset.idCuadro=r;const m=document.createElement("P");m.classList.add("nombre-cuadro"),m.textContent=n;const p=document.createElement("P");p.classList.add("precio-cuadro"),p.textContent=c,u.appendChild(m),u.appendChild(p),crearBotonComprarActual(u,e),s.appendChild(u),l.appendChild(s),d.appendChild(l)}))}function eventoCuadros(){cuadros=document.querySelectorAll(".imagenCuadroDiv"),cuadros.forEach((e=>{e.addEventListener("mouseenter",crearBotonComprar),e.addEventListener("mouseleave",eliminarBotonComprar)}))}function crearBotonComprarActual(e,o){const t=document.createElement("DIV"),r=document.createElement("BUTTON");r.classList.add("boton"),r.textContent="Agregar al carrito",t.appendChild(r),e.appendChild(t),r.addEventListener("click",(function(){agregarAlCarrito(o)}))}function agregarAlCarrito(e){carritoDeCompra.push(e),actualizarInterfazCarritoCompra()}function removeInterfazDinamico(e,o){o.remove(),e.target.removeEventListener("click",removeInterfaz)}function eventoCarritoUserBoton(){const e=document.querySelector(".carritoCompra"),o=document.querySelector(".userBoton");e.addEventListener("click",mostrarInterfazCarritoCompras),o.addEventListener("click",mostrarInterfazCarritoCompras)}function mostrarInterfazCarritoCompras(){actualizarInterfazCarritoCompra();const e=document.querySelector(".modalCarrito"),o=document.querySelector("#carritoDeCompras");e.appendChild(o),esconderScroll()}function actualizarInterfazCarritoCompra(){const e=document.querySelector(".modalCarrito");e&&e.remove(),crearModal();const o=document.querySelector(".contenedorCarritoCompras");if(!carritoDeCompra.length>=1){const e=document.createElement("P");return e.classList.add("parrafoCarritoVacio"),e.textContent="El carrito esta vacio ...",void o.appendChild(e)}for(;o.firstChild;)console.log(o.firstChild),o.removeChild(o.firstChild);carritoDeCompra.forEach((e=>{const{id:t,nombre:r,precio:a,descripcion:n,size:c,disponible:i,imagen:d}=e,l=document.createElement("DIV");l.classList.add("interfazCampo");const s=document.createElement("P");s.textContent=r,s.classList.add("nombre-producto");const u=document.createElement("P");u.textContent=a.toLocaleString("es-ES"),u.classList.add("precio-producto");const m=document.createElement("DIV");m.classList.add("infoProductoCarrito"),m.appendChild(s),m.appendChild(u),crearBotonBorrar(m,t);const p=document.createElement("IMG");p.src=`/img/${d}`,l.appendChild(m),l.appendChild(p),o.appendChild(l)}))}function crearModal(){esconderScroll();const e=document.createElement("DIV");e.classList.add("modal","modalCarrito"),ocultarHeader(),e.addEventListener("click",ocultarModal);const o=document.querySelector("body"),t=document.createElement("DIV");t.id="carritoDeCompras",t.innerHTML='\n    <div class="contenedorCarritoCompras"></div>\n    ',e.appendChild(t),o.appendChild(e)}function crearBotonBorrar(e,o){const t=document.createElement("BUTTON");t.classList.add("botonBorrar"),t.textContent="Elimina el producto",e.appendChild(t),t.addEventListener("click",(function(){carritoDeCompra.forEach((e=>{if(e.id===o){const o=carritoDeCompra.indexOf(e);carritoDeCompra.splice(o,1),actualizarInterfazCarritoCompra()}}))}))}function ocultarModal(e){const o=document.querySelector(".modalCarrito");eventClass=e.target.closest(".contenedorCarritoCompras"),eventClass||(mostrarScroll(),o.remove(),mostrarHeader())}function mostrarScroll(){document.querySelector("body").style.overflowY="scroll"}function esconderScroll(){document.querySelector("body").style.overflowY="hidden"}function eventoMenu(){menu=document.querySelector(".hamburgerMenu"),menu.addEventListener("click",(function(){mostrarModal()}))}function mostrarModal(){ocultarHeader(),botonCerrar=document.querySelector(".icono"),modal=document.querySelector(".modal"),modal.classList.remove("ocultar"),modal.addEventListener("click",ocultarModalAndMostrarHeader)}function ocultarModalAndMostrarHeader(e){eventClass=e.target.closest(".menu"),eventClass||(modal.classList.add("ocultar"),mostrarHeader(),modal.removeEventListener("click",ocultarModalAndMostrarHeader))}function subrayarPaginaActual(){paginaActual=obtenerPaginaActual(),menuCampos=document.querySelectorAll(".menuCampo a"),menuCampos.forEach((e=>{e.attributes.href.value===paginaActual&&e.classList.add("subrayarAmarillo")}))}function obtenerPaginaActual(){return window.location.pathname}function ocultarHeader(){header=document.querySelector("header"),header.classList.add("ocultar")}function mostrarHeader(){header=document.querySelector("header"),header.classList.remove("ocultar")}function agregarFixed(){header=document.querySelector(".header"),sectionReferencia=document.querySelector(".nombre-pagina"),document.addEventListener("scroll",(function(){sectionReferencia.getBoundingClientRect().top<1?header.classList.add("positionFixed"):header.classList.remove("positionFixed")}))}function eventoInputs(){inputBoton=document.querySelectorAll("[name='user[contacto]']"),inputBoton.forEach((function(e){e.addEventListener("click",(function(e){target=e.target.id,mostrar(target)}))}))}function mostrar(e){div=document.querySelector(".contactoDiv"),"byTelefono"===e&&(div.innerHTML='\n        <label for="telefono">Numero de Celular</label>\n        <input id="telefono" type="tel" placeholder="Tu numero de celular" name="user[telefono]">\n        '),"byEmail"===e&&(div.innerHTML='\n        <label for="email">Correo</label>\n        <input id="email" type="email" placeholder="Tu correo electronico" name="user[email]">\n        ')}document.addEventListener("DOMContentLoaded",(function(){iniciarApp()}));