const carritoDeCompra=[];function iniciarApp(){eventoInputs(),eventoMenu(),agregarFixed(),subrayarPaginaActual(),eventoCarritoUserBoton(),eventoCuadros(),consultarApiCuadros()}async function consultarApiCuadros(){try{const e="http://localhost:3000/api/cuadros",t=await fetch(e);imprimirResultadosApi(await t.json())}catch(e){console.log(e)}}function imprimirResultadosApi(e){e.forEach((e=>{const{descripcion:t,disponible:o,id:r,imagen:a,nombre:n,precio:c,size:d}=e,i=document.getElementById("cuadros"),l=document.createElement("DIV");l.classList.add("cuadro");const s=document.createElement("DIV");s.classList.add("imagenCuadroDiv"),s.style.backgroundImage=`url(/img/${a})`;const u=document.createElement("DIV");u.classList.add("cuadro-info"),u.dataset.idCuadro=r;const m=document.createElement("P");m.classList.add("nombre-cuadro"),m.textContent=n;const p=document.createElement("P");p.classList.add("precio-cuadro"),p.textContent=c,u.appendChild(m),u.appendChild(p),crearBotonComprarActual(u,e),s.appendChild(u),l.appendChild(s),i.appendChild(l)}))}function eventoCarritoUserBoton(){const e=document.querySelector(".carritoCompra"),t=document.querySelector(".userBoton");e.addEventListener("click",mostrarInterfazCarritoCompras),t.addEventListener("click",mostrarInterfazCarritoCompras)}function eventoCuadros(){cuadros=document.querySelectorAll(".imagenCuadroDiv"),cuadros.forEach((e=>{e.addEventListener("mouseenter",crearBotonComprar),e.addEventListener("mouseleave",eliminarBotonComprar)}))}function crearBotonComprarActual(e,t){const o=document.createElement("DIV"),r=document.createElement("BUTTON");r.classList.add("boton"),r.textContent="Agregar al carrito",o.appendChild(r),e.appendChild(o),r.addEventListener("click",(function(){agregarAlCarrito(t)}))}function agregarAlCarrito(e){carritoDeCompra.push(e),actualizarInterfazCarritoCompra()}function crearBotonComprar(e){let t=e.target.firstElementChild.firstElementChild,o=e.target.childNodes[1].childNodes[3];console.log(t),targetParent=e.srcElement,botonDIV=document.createElement("DIV"),botonDIV.classList.add("botonAgregarCarrito2"),boton=document.createElement("BUTTON"),boton.classList.add("boton"),boton.textContent="Agregalo al carrito",botonDIV.appendChild(boton),targetParent.appendChild(botonDIV),boton.addEventListener("click",(function(){let e=document.querySelector(".interfaz"),r=t.cloneNode(!0),a=o.cloneNode(!0);div=document.createElement("DIV"),div.classList.add("contenedor","interfazCampo"),div.appendChild(r),div.appendChild(a),e.appendChild(div)}))}function eliminarBotonComprar(e){botonCompra=document.querySelector(".botonAgregarCarrito2"),botonCompra&&botonCompra.remove()}function mostrarInterfazCarritoCompras(){crearModal();const e=document.querySelector(".modalCarrito"),t=document.querySelector("#carritoDeCompras");e.appendChild(t),esconderScroll()}function mostrarScroll(){document.querySelector("body").style.overflowY="scroll"}function esconderScroll(){document.querySelector("body").style.overflowY="hidden"}function removeInterfaz(e){eventClass=e.target.closest(".interfaz"),eventClass||(interfaz.classList.add("ocultar"),document.removeEventListener("click",removeInterfaz),interfazExiste=!1)}function removeInterfazDinamico(e,t){t.remove(),e.target.removeEventListener("click",removeInterfaz)}function actualizarInterfazCarritoCompra(){if(crearModal(),carritoDeCompra.length>=1){const e=document.querySelector(".contenedorCarritoCompras");for(;e.firstChild;)console.log(e.firstChild),e.removeChild(e.firstChild);carritoDeCompra.forEach((t=>{const{id:o,nombre:r,precio:a,descripcion:n,size:c,disponible:d,imagen:i}=t,l=document.createElement("DIV");l.classList.add("interfazCampo");const s=document.createElement("P");s.textContent=r,s.classList.add("nombre-producto");const u=document.createElement("P");u.textContent=a.toLocaleString("es-ES"),u.classList.add("precio-producto");const m=document.createElement("DIV");m.classList.add("infoProductoCarrito"),m.appendChild(s),m.appendChild(u);const p=document.createElement("IMG");p.src=`/img/${i}`,l.appendChild(m),l.appendChild(p),e.appendChild(l)}))}}function crearModal(){esconderScroll();const e=document.querySelector(".modalCarrito");if(e)return void e.classList.remove("ocultar");const t=document.createElement("DIV");t.classList.add("modal","modalCarrito"),ocultarHeader(),t.addEventListener("click",ocultarModal);const o=document.querySelector("body"),r=document.querySelector("#carritoDeCompras");t.appendChild(r),o.appendChild(t)}function ocultarModal(e){const t=document.querySelector(".modalCarrito");eventClass=e.target.closest(".contenedorCarritoCompras"),eventClass||(mostrarScroll(),t.classList.add("ocultar"),mostrarHeader())}function eventoMenu(){menu=document.querySelector(".hamburgerMenu"),menu.addEventListener("click",(function(){mostrarModal()}))}function mostrarModal(){ocultarHeader(),botonCerrar=document.querySelector(".icono"),modal=document.querySelector(".modal"),modal.classList.remove("ocultar"),modal.addEventListener("click",ocultarModalAndMostrarHeader)}function ocultarModalAndMostrarHeader(e){eventClass=e.target.closest(".menu"),eventClass||(modal.classList.add("ocultar"),mostrarHeader(),modal.removeEventListener("click",ocultarModalAndMostrarHeader))}function subrayarPaginaActual(){paginaActual=obtenerPaginaActual(),menuCampos=document.querySelectorAll(".menuCampo a"),menuCampos.forEach((e=>{e.attributes.href.value===paginaActual&&e.classList.add("subrayarAmarillo")}))}function obtenerPaginaActual(){return window.location.pathname}function ocultarHeader(){header=document.querySelector("header"),header.classList.add("ocultar")}function mostrarHeader(){header=document.querySelector("header"),header.classList.remove("ocultar")}function agregarFixed(){header=document.querySelector(".header"),sectionReferencia=document.querySelector(".nombre-pagina"),document.addEventListener("scroll",(function(){sectionReferencia.getBoundingClientRect().top<1?header.classList.add("positionFixed"):header.classList.remove("positionFixed")}))}function eventoInputs(){inputBoton=document.querySelectorAll("[name='user[contacto]']"),inputBoton.forEach((function(e){e.addEventListener("click",(function(e){target=e.target.id,mostrar(target)}))}))}function mostrar(e){div=document.querySelector(".contactoDiv"),"byTelefono"===e&&(div.innerHTML='\n        <label for="telefono">Numero de Celular</label>\n        <input id="telefono" type="tel" placeholder="Tu numero de celular" name="user[telefono]">\n        '),"byEmail"===e&&(div.innerHTML='\n        <label for="email">Correo</label>\n        <input id="email" type="email" placeholder="Tu correo electronico" name="user[email]">\n        ')}document.addEventListener("DOMContentLoaded",(function(){iniciarApp()}));