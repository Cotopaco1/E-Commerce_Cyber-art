document.addEventListener("DOMContentLoaded",(function(){iniciarApp()}));let productos_json={};function iniciarApp(){mostrarDatosResumen(),eventosBotones()}function eventosBotones(){document.querySelector("#boton_pedidos").addEventListener("click",mostrarPedidos),document.querySelector("#boton_productos").addEventListener("click",mostrarProductos)}function mostrarPedidos(){console.log("mostrando productos...")}function mostrarProductos(){cambiarTitulo("Productos"),crearTabla(),solicitud_get_por_url("http://localhost:3000/api/cuadros/getcuadros").then(llenarAndMostrarTablaProductos)}function cambiarTitulo(t){document.querySelector(".titulo_app").innerHTML=`<h1>${t}</h1>`}function crearTabla(){document.querySelector(".contenido").innerHTML='\n    <table class="tablaResumen id="tabla">\n    <thead>\n            <tr>\n                <td>Imagen</td>\n                <td>Nombre</td>\n                <td>Precio</td>\n                <td>Actions</td>\n            </tr>\n        </thead>\n        <tbody id="tbody">\n        \n        </tbody>\n    </table>\n    '}function llenarAndMostrarTablaProductos(t){const n=document.getElementById("tbody");productos_json=t,t.forEach((t=>{const{descripcion:o,disponible:e,id:a,imagen:r,nombre:i,precio:d,size:c}=t,s=document.createElement("TR");s.innerHTML=`\n        <td><img src="/img/${r}" alt="imagenProducto" /></td>\n        <td><p>${i}</p></td>\n        <td><p>$<span>${d}</span></p></td>\n        <td>\n            <div class="actions">\n                <button data-id="${a}" class="boton-editar">Editar</button>\n                <button class="boton-ver">Ver</button>\n                <button class="boton-eliminar">Eliminar</button>\n            </div>\n        </td>\n        `,n.appendChild(s)})),evento_botones_action()}async function solicitud_get_por_url(t){try{const n=await fetch(t);return await n.json()}catch(t){console.log(t)}}function evento_botones_action(){document.querySelectorAll(".boton-editar").forEach((t=>{t.addEventListener("click",mostrar_editar_producto)}))}function mostrar_editar_producto(t){const n=t.target.dataset.id,o=productos_json.find((function(t){return t.id===n}));crearModal(),insertar_al_modal_producto(o)}function insertar_al_modal_producto(t){const{descripcion:n,disponible:o,id:e,imagen:a,nombre:r,precio:i,size:d}=t;document.querySelector(".contenido_modal").innerHTML=`\n    <form class="producto_div formulario">\n        \n            <div class="div_producto_uno">\n                <div class="imagen_producto_div">\n                    <img src="/img/${a}" alt="imagenProducto" />\n                    \n                </div>\n                <div class="informacion_producto">\n                    <label htmlFor="">ID: ${e}</label>\n                    <label htmlFor="nombre_editar">Nombre: <input name="nombre" id="nombre_editar" type="text" value="${r}" /></label>\n                    <label >Precio: <input name="precio" id="precio_editar" type="text" value="${i}" /></label>\n                    <label htmlFor="">\n                    Disponible:\n                    <select name="disponible">\n                        <option value="1">Si</option>\n                        <option value="0">No</option>\n                    </select>\n                    </label>\n                    <label htmlFor="">Tama√±o: <input type="text" value="${d}" /></label>\n                </div>\n            </div>\n            <div class="div_producto_dos">\n                <input type="file" value="${a}" />\n                 <label for="descripcion" >Descripcion:</label>\n                  <textarea name="descripcion" id="descripcion" >${n}</textarea>\n                \n                \n            </div>\n        \n\n        <div class="producto_div_footer">\n            <input type="submit" value="Actualizar Datos" class="boton-ver" />\n            <button class="boton-eliminar" id="cancelar_boton">Cancelar</button>\n        </div>\n    </form>\n    `;document.getElementById("cancelar_boton").addEventListener("click",eliminarModal)}function crearModal(){const t=document.createElement("DIV");t.classList.add("modal"),t.innerHTML='\n    <div class="contenido_modal"></div>\n    ',t.addEventListener("click",evento_para_cerrar_modal);document.querySelector("body").appendChild(t)}function evento_para_cerrar_modal(t){eventClass=t.target.closest(".producto_div"),eventClass||eliminarModal()}function eliminarModal(){document.querySelector(".modal").remove()}function mostrarDatosResumen(){getDatosResumen().then(imprimirDatosResumen)}function imprimirDatosResumen(t){document.querySelector("#numero_pedidos span").textContent=t.respuesta.cantidad_pedidos;document.querySelector("#numero_productos span").textContent=t.respuesta.cantidad_productos;document.querySelector("#numero_usuarios span").textContent=t.respuesta.cantidad_usuarios}async function getDatosResumen(){try{const t="http://localhost:3000/api/admin/get_info_resumen",n=await fetch(t);return await n.json()}catch(t){console.log(t)}}
//# sourceMappingURL=admin.js.map
